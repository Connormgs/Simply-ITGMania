[Global]
FallbackTheme=_fallback

[GameState]
AllowLateJoin=false
DefaultSong="In The Groove 2/Amore"

[Common]
InitialScreen="ScreenInit"
ImageCache=ThemePrefs.Get("UseImageCache") and "Banner,Background,Jacket" or "Banner"
DefaultNoteSkinName="cel"
[ScreenUSBProfileOptions]
Fallback="ScreenOptionsServiceChild"
LineNames="MemoryCards,CustomSongs,MaxCount,CustomSongsLoadTimeout,CustomSongsMaxSeconds,CustomSongsMaxMegabytes"

LineMemoryCards="lua,OperatorMenuOptionRows.MemoryCards()"
LineCustomSongs="conf,CustomSongsEnable"
LineMaxCount="conf,CustomSongsMaxCount"
LineCustomSongsLoadTimeout="lua,OperatorMenuOptionRows.CustomSongsLoadTimeout()"
LineCustomSongsMaxSeconds="lua,OperatorMenuOptionRows.CustomSongsMaxSeconds()"
LineCustomSongsMaxMegabytes="lua,OperatorMenuOptionRows.CustomSongsMaxMegabytes()"
[ScreenAdvancedOptions]
Fallback="ScreenOptionsServiceChild"
LineNames="DefaultFailType,TimingWindowScale,LifeDifficulty,HiddenSongs,EasterEggs,AllowExtraStage,UseUnlockSystem,AutogenSteps,AutogenGroupCourses,FastLoad,SongDeletion,ProfileSortOrder,ProfileSortOrderAscending"
LineDefaultFailType="conf,DefaultFailType"
LineTimingWindowScale="conf,TimingWindowScale"
LineLifeDifficulty="conf,LifeDifficulty"
LineHiddenSongs="conf,HiddenSongs"
LineEasterEggs="conf,EasterEggs"
LineAllowExtraStage="conf,AllowExtraStage"
LineUseUnlockSystem="conf,UseUnlockSystem"
LineAutogenSteps="conf,AutogenSteps"
LineAutogenGroupCourses="conf,AutogenGroupCourses"
LineFastLoad="conf,FastLoad"
LineSongDeletion="conf,AllowSongDeletion"
LineProfileSortOrder="conf,ProfileSortOrder"
LineProfileSortOrderAscending="conf,ProfileSortOrderAscending"
[ScreenMenuTimerOptions]
Fallback="ScreenOptionsServiceChild"
LineNames="MenuTimer,ScreenSelectMusicMenuTimer,ScreenSelectMusicCasualMenuTimer,ScreenPlayerOptionsMenuTimer,ScreenEvaluationMenuTimer,ScreenEvaluationSummaryMenuTimer,ScreenNameEntryMenuTimer"

LineMenuTimer="conf,MenuTimer"
LineScreenSelectMusicMenuTimer="lua,ThemePrefsRows.GetRow('ScreenSelectMusicMenuTimer')"
LineScreenSelectMusicCasualMenuTimer="lua,ThemePrefsRows.GetRow('ScreenSelectMusicCasualMenuTimer')"
LineScreenPlayerOptionsMenuTimer="lua,ThemePrefsRows.GetRow('ScreenPlayerOptionsMenuTimer')"
LineScreenEvaluationMenuTimer="lua,ThemePrefsRows.GetRow('ScreenEvaluationMenuTimer')"
LineScreenEvaluationSummaryMenuTimer="lua,ThemePrefsRows.GetRow('ScreenEvaluationSummaryMenuTimer')"
LineScreenNameEntryMenuTimer="lua,ThemePrefsRows.GetRow('ScreenNameEntryMenuTimer')"

# Simply Love Options
[ScreenThemeOptions]
Fallback="ScreenOptionsServiceChild"
OptionRowNormalMetricsGroup="OptionRowSimplyLoveOptions"

LineNames=(function() \
	local lines = "VisualStyle" \
	if ThemePrefs.Get("VisualStyle") == "SRPG7" then lines = lines .. ",AllowThemeVideos" end \
	if ThemePrefs.Get("VisualStyle") ~= "SRPG7" then lines = lines .. ",RainbowMode" end \
	lines = lines.. ",,MusicWheelSpeed,,MusicWheelStyle,AutoStyle,DefaultGameMode,AllowFailingOutOfSet,NumberOfContinuesAllowed,CasualMaxMeter,SelectProfile,SelectColor,EvalSummary,NameEntry,GameOver,HideStockNoteSksins,DanceSolo,Nice,WriteCustomScores,KeyboardFeatures,RescoreEarlyHits,ITG1" \
	if Sprite.LoadFromCached ~= nil then lines = lines .. ",UseImageCache" end \
	return lines \
end)()
LineCasualMaxMeter="lua,ThemePrefsRows.GetRow('CasualMaxMeter')"

LineAutoStyle="lua,ThemePrefsRows.GetRow('AutoStyle')"
LineDefaultGameMode="lua,ThemePrefsRows.GetRow('DefaultGameMode')"
LineMusicWheelSpeed="lua,OperatorMenuOptionRows.MusicWheelSpeed()"

LineAllowFailingOutOfSet="lua,ThemePrefsRows.GetRow('AllowFailingOutOfSet')"
LineNumberOfContinuesAllowed="lua,ThemePrefsRows.GetRow('NumberOfContinuesAllowed')"
LineMusicWheelStyle="lua,ThemePrefsRows.GetRow('MusicWheelStyle')"

LineSelectProfile="lua,ThemePrefsRows.GetRow('AllowScreenSelectProfile')"
LineSelectColor="lua,ThemePrefsRows.GetRow('AllowScreenSelectColor')"
LineEvalSummary="lua,ThemePrefsRows.GetRow('AllowScreenEvalSummary')"
LineNameEntry="lua,ThemePrefsRows.GetRow('AllowScreenNameEntry')"
LineGameOver="lua,ThemePrefsRows.GetRow('AllowScreenGameOver')"

LineHideStockNoteSksins="lua,ThemePrefsRows.GetRow('HideStockNoteSkins')"
LineDanceSolo="lua,ThemePrefsRows.GetRow('AllowDanceSolo')"

LineNice="lua,ThemePrefsRows.GetRow('nice')"
LineVisualStyle="lua,ThemePrefsRows.GetRow('VisualStyle')"
LineAllowThemeVideos="lua,ThemePrefsRows.GetRow('AllowThemeVideos')"
LineRainbowMode="lua,ThemePrefsRows.GetRow('RainbowMode')"

LineUseImageCache="lua,ThemePrefsRows.GetRow('UseImageCache')"
LineWriteCustomScores="lua,ThemePrefsRows.GetRow('WriteCustomScores')"
LineKeyboardFeatures="lua,ThemePrefsRows.GetRow('KeyboardFeatures')"
LineRescoreEarlyHits="lua,ThemePrefsRows.GetRow('RescoreEarlyHits')"
LineITG1="lua,ThemePrefRow('ITG1')"

[Gameplay]
ToastyTriggersAt=1000000

[Preferences]
AllowExtraStage=0
ComboContinuesBetweenSongs=1

[Background]
RandomBGStartBeat=0

[UnlockManager]
# Unlock code numbers are random for the arcade, to make it harder to
# add them to the unsecured machine profile by hand.

# Is in home versions of ITG, as it basically made the challenges be unlocked
#Â by every pass on hard. But unsure if anybody wants that. Maybe an option?
AutoLockChallengeSteps=false
UnlockNames="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15"
Unlock1Command=song,"In The Groove/Disconnected -hyper-"
Unlock2Command=song,"In The Groove/Disconnected -mobius-"
Unlock3Command=song,"In The Groove/Infection"
Unlock4Command=song,"In The Groove/Xuxa"
Unlock5Command=song,"In The Groove/Tell"
Unlock6Command=song,"In The Groove/Bubble Dancer"
Unlock7Command=song,"In The Groove/Don't Promise Me ~Happiness~"
Unlock8Command=song,"In The Groove/Anubis"
Unlock9Command=song,"In The Groove/DJ Party"
Unlock10Command=song,"In The Groove/Pandemonium"
Unlock11Command=song,"In The Groove 2/Disconnected Disco"
Unlock12Command=song,"In The Groove 2/VerTex^2"
Unlock13Command=song,"In The Groove 2/Wanna Do"
Unlock14Command=song,"In The Groove 2/Know Your Enemy"
Unlock15Command=song,"In The Groove 2/Hardcore Symphony"

[ScreenInit]
AllowStartToSkip=false
PrepareScreen=true
TimerSeconds=2.5
StopMusicOnBack=false
MemoryCardIcons=false
ForceTimer=true
HeaderOnCommand=visible,false

# these aren't real metrics; they are quick and dirty hacks
ShowCreditDisplay=false
ShowPlayerAvatar=false

[ScreenTitleJoin]
ScrollerOnCommand=%function(self) self:visible(false) end
NextScreen=Branch.AfterCaution()

###########################################################################
[ScreenReloadSSM]
Fallback="ScreenWithMenuElements"
NextScreen="ScreenSelectMusic"
PrevScreen="ScreenSelectMusic"
HeaderOnCommand=visible,false
FooterOnCommand=visible,false
ShowCreditDisplay=false
[ScreenSelectProfile]
PrevScreen=Branch.TitleMenu()
NextScreen=Branch.AllowScreenSelectColor()

# declare this to be intentionally empty to override _fallback's
# function that locks input for 1 second
ScreenOnCommand=
[ScreenProfileLoad]
ShowFooter=true
StyleIcon=false
NextScreen=Branch.AfterSelectPlayMode()
ShowCreditDisplay=false


# Profile Saving occurs after every ScreenEvaluation
[ScreenProfileSave]
HeaderOnCommand=visible,false
StyleIcon=false
NextScreen=Branch.AfterProfileSave()
Summary=false
ShowCreditDisplay=false
RepeatRate=20
CodeNames="Select"
CodeSelect=GAMESTATE:GetCurrentGame():GetName()=="pump" and "DownLeft-DownRight" or (PREFSMAN:GetPreference("ThreeKeyNavigation") and "MenuLeft-MenuRight" or "Select")


[ScreenSelectColor]
Fallback="ScreenWithMenuElements"
PrevScreen=Branch.TitleMenu()
NextScreen=Branch.AfterScreenSelectColor()
TimerSeconds=20

[ITG_PlayModeSelect]
Fallback="ScreenThemeTest"
TimerSeconds=60
NextScreen=Branch.AfterITGPlayModeSelect()

[ScreenSelectStyle]
Class="ScreenWithMenuElements"
Fallback="ScreenThemeTest"
PrevScreen=Branch.TitleMenu()
NextScreen="ScreenSelectPlayMode"
TimerSeconds=20



[ScreenSelectPlayMode]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
PrevScreen=Branch.TitleMenu()

ShowFooter=true
TimerSeconds=20

ChoiceNames="Casual,ITG,FA+"
ChoiceCasual="name,Casual; screen,ScreenProfileLoad"
ChoiceITG="name,ITG; screen,ScreenSelectPlayMode2"
ChoiceFA+="name,FA+; screen,ScreenSelectPlayMode2"


DefaultChoice=SL.Global.GameMode

ShowScroller=false
ShowIcon=true
WrapCursor=true
SharedSelection=true

UseIconMetrics=true

IconChoiceCasualX=_screen.cx - 110
IconChoiceCasualY=_screen.cy - 75

IconChoiceITGX=_screen.cx - 110
IconChoiceITGY=_screen.cy - 25

IconChoiceFA+X=_screen.cx - 110
IconChoiceFA+Y=_screen.cy + 25

# there is not a 4th choice for now, so these are commented out
# IconChoice_unused=_screen.cx - 110
# IconChoice_unused=_screen.cy + 75


[ScreenSelectPlayMode2]
Fallback="ScreenSelectPlayMode"

ChoiceNames="Regular,Marathon"
ChoiceRegular="playmode,Regular; name,Regular; screen,ScreenProfileLoad"
ChoiceMarathon="playmode,Nonstop; name,Marathon; screen,ScreenProfileLoad"
# ChoiceEndless="playmode,Endless; name,Endless; screen,ScreenProfileLoad"
# ChoiceOni="playmode,Oni; name,Oni; screen,ScreenProfileLoad"

IconChoiceRegularX=_screen.cx - 110
IconChoiceRegularY=_screen.cy - 75

IconChoiceMarathonX=_screen.cx - 110
IconChoiceMarathonY=_screen.cy - 25

# IconChoiceEndlessX=_screen.cx - 110
# IconChoiceEndlessY=_screen.cy + 25

# IconChoiceOniX=_screen.cx - 110
# IconChoiceOniY=_screen.cy + 75

[ScreenJukebox]
LifeP1OnCommand=visible,false
ScoreP1OnCommand=visible,false
LifeP2OnCommand=visible,false
ScoreP2OnCommand=visible,false

[ScreenSelectMaster]
Fallback="ScreenWithMenuElements"
ShowCreditDisplay=true

TimerSeconds=-1
StopMusicOnBack=false
HelpText=ScreenString("HelpText")

[ScreenAdvertisement]
Fallback="ScreenAttract"
NextScreen="ScreenCompany"
ForceTimer=true
TimerSeconds=10

[ScreenJukeboxMenu]
ExplanationTogetherX=SCREEN_CENTER_X-266
ExplanationTogetherY=SCREEN_CENTER_Y+141
ExplanationTogetherOnCommand=zoom,0.5;wrapwidthpixels,1100;vertalign,top;horizalign,left;cropright,1;linear,0.5;cropright,0

[ScreenSyncOverlay]
Class="ScreenSyncOverlay"
Fallback="Screen"
StatusOnCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y+150;shadowlength,2;zoom,0.5
AdjustmentsOnCommand=x,SCREEN_CENTER_X+160;y,SCREEN_CENTER_Y;zoom,0.5

[ScreenTitleMenu]
PrevScreen="ScreenCompany"
IdleTimeoutSeconds=30
IdleTimeoutScreen="ScreenCompany"

ChoiceNames="1,2,3,4"
DefaultChoice="1"
Choice1="applydefaultoptions;screen,"..Branch.AllowScreenSelectProfile()..";text,Dance Mode"
Choice2="screen,ScreenEditMenu;text,Edit Mode"
Choice3="screen,ScreenOptionsService;text,Options"
Choice4="screen,ScreenExit;text,Exit"

ScrollerX=_screen.cx
ScrollerY=_screen.cy+_screen.h/3.8
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(22*offset) end

HeaderOnCommand=visible,false
FooterOnCommand=visible,false
ShowPlayerAvatar=false
NextScreen=Branch.AfterCaution()
[ScreenProfileLoad]
ShowFooter=true
StyleIcon=false
NextScreen=Branch.AfterSelectPlayMode()
ShowCreditDisplay=false

[ScreenCompany]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen=WarnScreen()
PrevScreen="ScreenInit"
ForceTimer=true
PlayMusic=true
NextScreen="ScreenIntro"
TimerSeconds=6
HeaderX=SCREEN_CENTER_X
HeaderY=SCREEN_TOP+40
HeaderOnCommand=
HeaderOffCommand=

[ScreenAttract]
TimerOnCommand=visible,false
PrevScreen=Branch.TitleMenu()
StartScreen=Branch.TitleMenu()

[ScreenIntro]
Class="ScreenAttract"
Fallback="ScreenAttract"
TimerSeconds=32
ForceTimer=true
PlayMusic=true
NextScreen="ScreenLogo"

[ScreenLogo]
NextScreen="ScreenDemonstration"

[ScreenDemonstration]
Fallback="ScreenGameplay"
Class="ScreenDemonstration"
NextScreen="ScreenDemonstration2"
PrevScreen=Branch.NoiseTrigger()
StartScreen=Branch.TitleMenu()
PlayMusic=false
SecondsToShow=60

LightsMode="LightsMode_Demonstration"
DifficultiesToShow="easy,medium,hard,challenge"
ShowCourseModifiersProbability=0
AllowAdvancedModifiers=false
AllowStyleTypes="TwoPlayersTwoSides"

MinSecondsToStep=0
MinSecondsToMusic=0

[ScreenDemonstration2]
Fallback="ScreenGameplay"
Class="ScreenDemonstration"
NextScreen="ScreenRanking"
PrevScreen=Branch.TitleMenu()
SecondsToShow=40
AllowStepTypes="single"

LightsMode="LightsMode_Demonstration"
DifficultiesToShow="beginner"
ShowCourseModifiersProbability=0
AllowAdvancedModifiers=false
AllowStyleTypes="OnePlayerOneSide"
LifeP1OnCommand=visible,false
ScoreP1OnCommand=visible,false

MinSecondsToStep=0
MinSecondsToMusic=0

[ScreenWithMenuElements]
ShowCreditDisplay=not GAMESTATE:Env()["WorkoutMode"]
TimerX=_screen.w-30
TimerY=-1
TimerMetricsGroup=ThemePrefs.Get("ITG1") and "MenuTimerITG" or "MenuTimer"
TimerOffCommand=accelerate,0.3;addx,ThemePrefs.Get("ITG1") and -200 or 200;
TimerOnCommand=hide_if,not PREFSMAN:GetPreference("MenuTimer");draworder,99;

CreditsP1X=SCREEN_LEFT+38
CreditsP1Y=SCREEN_BOTTOM-12
CreditsP1OnCommand=shadowlength,0;horizalign,left;vertalign,bottom;zoom,0.5
CreditsP2X=SCREEN_RIGHT-38
CreditsP2Y=SCREEN_BOTTOM-12
CreditsP2OnCommand=shadowlength,0;horizalign,right;vertalign,bottom;zoom,0.5

MemoryCardIcons=true
# Using a full Lua based one.
MemoryCardDisplayP1OnCommand=visible,false;
MemoryCardDisplayP2OnCommand=visible,false;
HeaderX=0
HeaderY=0
FooterX=_screen.cx
FooterY=_screen.h
[MenuTimer]
FrameOnCommand=visible,false
Text1FormatFunction=function(fSeconds) return math.min(999, math.ceil(fSeconds)) end

Warning6Command=stoptweening;sleep,0.8;linear,0.2;glow,1,1,1,1;
Warning5Command=stoptweening;linear,0.2;glow,1,1,1,0;diffuseshift;effectperiod,1;effectcolor1,HSVA(0,0,1,0.5);effectcolor2,HSVA(0,1,1,0.9)
Warning4Command=stoptweening;linear,0.2
Warning3Command=stoptweening;linear,0.2
Warning2Command=stoptweening;linear,0.2
Warning1Command=stoptweening;linear,0.2
Warning0Command=stoptweening;stopeffect;linear,0.2;zoomx,1
WarningBeepStart=8
Text1OnCommand=stopeffect;stoptweening;shadowlength,0;xy,22,WideScale(11.5,10.5);halign,1;zoom,WideScale(0.3,0.365)
Text2OnCommand=visible,false

# we don't want the MenuTimer fading in and out during each screen transition prior to SelectMusic
# so we define the standard [MenuTimer] to be not use any alpha tweening
# this [MenuTimerFadeIn] is identical but fades into view during its OnCommand
# we use it in ScreenSelectMusic and ScreenEvaluation

[MenuTimerITG]
Fallback="MenuTimer"
Text1OnCommand=stoptweening;shadowlength,4;x,0;zoom,0.7
Text1FormatFunction=function(fSeconds) local fSeconds=math.floor(fSeconds); return string.format("%02i",fSeconds) end
Text2OnCommand=stoptweening;visible,false

[ScreenEvaluation]
TimerSeconds=SL.Global.MenuTimer.ScreenEvaluation
ShowHeader=true
FooterOnCommand=visible,false
ShowCreditDisplay=false
ShowPlayerAvatar=true

BannerWidth=334
BannerHeight=132

CodeNames="Screenshot"
CodeScreenshot=PREFSMAN:GetPreference("ThreeKeyNavigation") and "MenuLeft-MenuRight" or "Select"

[ScreenEvaluationStage]
Fallback="ScreenEvaluation"
NextScreen=Branch.AfterEvaluationStage()


#######################
#Â Graph/Combo display information
#######################
[GraphDisplay]
BodyWidth=254
BodyHeight=59

[GraphDisplay1]
Fallback="GraphDisplay"
[GraphDisplay2]
Fallback="GraphDisplay"
[GraphDisplay3]
Fallback="GraphDisplay"
[GraphDisplay4]
Fallback="GraphDisplay"
[GraphDisplay5]
Fallback="GraphDisplay"
[GraphDisplay6]
Fallback="GraphDisplay"
[GraphDisplay7]
Fallback="GraphDisplay"
[GraphDisplay8]
Fallback="GraphDisplay"
[GraphDisplay9]
Fallback="GraphDisplay"
[GraphDisplay10]
Fallback="GraphDisplay"
[GraphDisplay11]
Fallback="GraphDisplay"
[GraphDisplay12]
Fallback="GraphDisplay"

[GraphDisplayP1]
Fallback="GraphDisplay"

[GraphDisplayP2]
Fallback="GraphDisplay"

[ComboGraph]
BodyWidth=271
BodyHeight=18

[ComboGraphP1]
Fallback="ComboGraph"

[ComboGraphP2]
Fallback="ComboGraph"

[PlayerStageStats]
NumGradeTiersUsed=17
GradeTier01IsAllW2s=false
GradeTier01IsFullCombo=true
GradeTier02IsAllW2s=false
GradeTier02IsFullCombo=false
# quad star
GradePercentTier01=1.00
# triple star
GradePercentTier02=0.99
# double star
GradePercentTier03=0.98
# single star
GradePercentTier04=0.96
# S+
GradePercentTier05=0.94
# S
GradePercentTier06=0.92
# S-
GradePercentTier07=0.89
# A+
GradePercentTier08=0.86
# A
GradePercentTier09=0.83
# A-
GradePercentTier10=0.80
# B+
GradePercentTier11=0.76
# B
GradePercentTier12=0.72
# B-
GradePercentTier13=0.68
# C+
GradePercentTier14=0.64
# C
GradePercentTier15=0.60
# C-
GradePercentTier16=0.55
# D
GradePercentTier17=-1000

[ScoreKeeperNormal]
PercentScoreWeightCheckpointHit=SL.Metrics[SL.Global.GameMode]["PercentScoreWeightCheckpointHit"]
PercentScoreWeightHeld=SL.Metrics[SL.Global.GameMode]["PercentScoreWeightHeld"]
PercentScoreWeightHitMine=SL.Metrics[SL.Global.GameMode]["PercentScoreWeightHitMine"]
PercentScoreWeightLetGo=SL.Metrics[SL.Global.GameMode]["PercentScoreWeightLetGo"]
PercentScoreWeightW1=SL.Metrics[SL.Global.GameMode]["PercentScoreWeightW1"]
PercentScoreWeightW2=SL.Metrics[SL.Global.GameMode]["PercentScoreWeightW2"]
PercentScoreWeightW3=SL.Metrics[SL.Global.GameMode]["PercentScoreWeightW3"]
PercentScoreWeightW4=SL.Metrics[SL.Global.GameMode]["PercentScoreWeightW4"]
PercentScoreWeightW5=SL.Metrics[SL.Global.GameMode]["PercentScoreWeightW5"]
PercentScoreWeightMiss=SL.Metrics[SL.Global.GameMode]["PercentScoreWeightMiss"]

GradeWeightCheckpointHit=SL.Metrics[SL.Global.GameMode]["GradeWeightCheckpointHit"]
GradeWeightHeld=SL.Metrics[SL.Global.GameMode]["GradeWeightHeld"]
GradeWeightHitMine=SL.Metrics[SL.Global.GameMode]["GradeWeightHitMine"]
GradeWeightLetGo=SL.Metrics[SL.Global.GameMode]["GradeWeightLetGo"]
GradeWeightW1=SL.Metrics[SL.Global.GameMode]["GradeWeightW1"]
GradeWeightW2=SL.Metrics[SL.Global.GameMode]["GradeWeightW2"]
GradeWeightW3=SL.Metrics[SL.Global.GameMode]["GradeWeightW3"]
GradeWeightW4=SL.Metrics[SL.Global.GameMode]["GradeWeightW4"]
GradeWeightW5=SL.Metrics[SL.Global.GameMode]["GradeWeightW5"]
GradeWeightMiss=SL.Metrics[SL.Global.GameMode]["GradeWeightMiss"]

[ScreenThemeTest]
Fallback="ScreenWithMenuElementsBlank"



[ScreenUnlock]
Fallback="ScreenThemeTest"
PlayMusic=true

[ScreenWorkoutMenu]
Fallback="ScreenOptionsServiceChild"

ForceAllPlayers=false
InputMode="individual"
NextScreen=SelectMusicOrCourse()
PrevScreen="ScreenInit"
HeaderOnCommand=
HeaderOffCommand=
LineNames="1,2,3,4,5"
Line1="lua,WorkoutSelector('Weight')"
Line2="lua,WorkoutSelector('GoalType')"
Line3="lua,WorkoutSelector('GoalAmount')"
Line4="lua,WorkoutSelector('SimpleSteps')"
Line5="lua,WorkoutSelector('SelectType')"

ExplanationP1Y=SCREEN_CENTER_Y+85
ExplanationP2Y=SCREEN_CENTER_Y+85
SeparateExitRowY=SCREEN_CENTER_Y+22+24*1

ShowScrollBar=false
OptionRowNormalMetricsGroup="WorkoutOptionRow"

RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) WorkoutRowTransform(self,offsetFromCenter,itemIndex,numItems) end

CursorOnCommand=visible,true

[RollingNumbersWorkout]
Fallback="RollingNumbers"
TextFormat="%.2fc"
ApproachSeconds=0.2
Commify=false
LeadingZeroMultiplyColor=color("#777777FF")

[WorkoutOptionRow]
Fallback="OptionRow"
ShowUnderlines=true
ShowStatusbar=false
Row5Y=SCREEN_CENTER_Y+140
ItemsLongRowP1X=SCREEN_CENTER_X-80
ItemsLongRowP2X=SCREEN_CENTER_X+220
TitleOnCommand=zoom,0;visible,false
ItemsStartX=SCREEN_CENTER_X-130
ItemsEndX=SCREEN_CENTER_X+280
ItemsGapX=15

[OptionsUnderline]
# STEPMANIA 5.
# YOU'RE GIVING ME TOO MUCH CONTROL
# PLEASE STOP.
Fallback="OptionsCursor"
LeftCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
MiddleCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
RightCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH

[OptionRowExit]
Fallback="OptionRow"
FrameOnCommand=visible,false
TitleOnCommand=visible,false

[OptionsUnderlineP1]
Fallback="OptionsUnderline"
LeftX=0
MiddleX=0
RightX=0
LeftY=-6
MiddleY=-6
RightY=-6

[OptionsUnderlineP2]
Fallback="OptionsUnderline"
LeftX=0
MiddleX=0
RightX=0
LeftY=8
MiddleY=8
RightY=8

[ScreenOptionsManageProfiles]
RowInitCommand=zoom,0.8;x,-SCREEN_WIDTH;decelerate,0.3;addx,SCREEN_WIDTH
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) local offset = positionIndex-(numItems-1)/2; self:y(SCREEN_CENTER_Y+25+(32*offset)) end
ExplanationTogetherCancelMessageCommand=accelerate,0.3;diffusealpha,0
OptionRowNormalMetricsGroup="OptionRowProfile"

[OptionRowProfile]
Fallback="OptionRowService"
ItemOnCommand=shadowlength,0;zoom,0.5;y,-1;strokecolor,color("0,0,0,0.35");halign,0;
ItemsStartX=SCREEN_CENTER_X-220
ItemsEndX=SCREEN_CENTER_X
ItemsGapX=10
ItemsOnCommand=shadowlength,0;zoom,0.5
ItemsLongRowP1X=SCREEN_CENTER_X-60
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X
TitleX=SCREEN_CENTER_X-120
TitleOnCommand=shadowlength,0;zoom,.7;halign,0
FrameOnCommand=zoom,1;x,SCREEN_CENTER_X-60
TitleGainFocusCommand=diffuse,color("1,1,1,1");
TitleLoseFocusCommand=diffuse,color("0.5,0.5,0.5,1");

TitleCancelMessageCommand=accelerate,0.3;addx,-SCREEN_WIDTH
ItemCancelMessageCommand=accelerate,0.3;addx,-SCREEN_WIDTH

[ScreenPlayerOptions]
Class="ScreenPlayerOptions"
Fallback="ScreenOptions"

NextScreen=SL.Global.ScreenAfter.PlayerOptions
TimerSeconds=SL.Global.MenuTimer.ScreenPlayerOptions
TimerStealth=false
TimerOnCommand=hide_if,not PREFSMAN:GetPreference("MenuTimer");draworder,99;
TimerOffCommand=
ForceTimer=false
ShowHeader=true
FooterOnCommand=visible,false
ShowCreditDisplay=false

OptionRowExitMetricsGroup="OptionRowExit"


RepeatRate=30
AllowRepeatingChangeValueInput=true
LineNames=(function() \
	local lines = "SpeedModType,SpeedMod,Mini,Perspective,NoteSkinSL,Judgment,ComboFont,HoldJudgment,HeldGraphic,BackgroundFilter,NoteFieldOffsetX,NoteFieldOffsetY,VisualDelay,MusicRate,Stepchart,ScreenAfterPlayerOptions" \
	if GAMESTATE:GetCurrentGame():GetName() == "pump" then lines = lines:gsub("HoldJudgment,","") end \
	return lines \
end)()

##### Most Used #####
# OptionRows assembled in ./Scripts/SL-PlayerOptions.lua
LineSpeedModType="lua,CustomOptionRow('SpeedModType')"
LineSpeedMod="lua,CustomOptionRow('SpeedMod')"
LineMini="lua,CustomOptionRow('Mini')"
LineNoteSkinSL="lua,CustomOptionRow('NoteSkin')"
LineJudgment="lua,CustomOptionRow('JudgmentGraphic')"
LineComboFont="lua,CustomOptionRow('ComboFont')"
LineBackgroundFilter="lua,CustomOptionRow('BackgroundFilter')"
LineNoteFieldOffsetX="lua,CustomOptionRow('NoteFieldOffsetX')"
LineNoteFieldOffsetY="lua,CustomOptionRow('NoteFieldOffsetY')"
LineVisualDelay="lua,CustomOptionRow('VisualDelay')"
LineMusicRate="lua,CustomOptionRow('MusicRate')"
LineStepchart="lua,CustomOptionRow('Stepchart')"
LineScreenAfterPlayerOptions="lua,CustomOptionRow('ScreenAfterPlayerOptions')"

LineHoldJudgment="lua,CustomOptionRow('HoldJudgment')"
LineHeldGraphic="lua,CustomOptionRow('HeldGraphic')"
LineHide="lua,CustomOptionRow('Hide')"
LineMiniIndicator="lua,CustomOptionRow('MiniIndicator')"
LineMiniIndicatorColor="lua,CustomOptionRow('MiniIndicatorColor')"

# GameplayExtras options are presented as a single OptionRow in WideScreen
LineGameplayExtras="lua,CustomOptionRow('GameplayExtras')"
# split GameplayExtras options into two separate lines when not in WideScreen
#    by having an extra "B" and "C" OptionRow available if needed
#    in 4:3 aspect ratio, trying to fit all the GameplayExtras choices in a single
#    OptionRow results in the choices being collapsed (hidden) into one choice so they
#    don't spill offscreen.  Not going offscreen is good, but hiding choices can be
#    unclear from a usability standpoint.
LineGameplayExtrasB="lua,CustomOptionRow('GameplayExtrasB')"
LineGameplayExtrasC="lua,CustomOptionRow('GameplayExtrasC')"
LineResultsExtras="lua,CustomOptionRow('ResultsExtras')"
## These OptionRows appear on [ScreenPlayerOptions2] and [ScreenAttackMenu],
## define them here anyway so that each of those screens can fallback on this one
LineTurn="list,Turn"
LineScroll="list,Scroll"
LineLifeMeterType="lua,CustomOptionRow('LifeMeterType')"
LineDataVisualizations="lua,CustomOptionRow('DataVisualizations')"
LineStepStatsInfo="lua,CustomOptionRow('StepStatsInfo')"
LineStepStatsExtra="lua,CustomOptionRow('StepStatsExtra')"
LineTargetScore="lua,CustomOptionRow('TargetScore')"
LineTargetScoreNumber="lua,CustomOptionRow('TargetScoreNumber')"
LineActionOnMissedTarget="lua,CustomOptionRow('ActionOnMissedTarget')"
LineErrorBar="lua,CustomOptionRow('ErrorBar')"
LineErrorBarTrim="lua,CustomOptionRow('ErrorBarTrim')"
LineErrorBarOptions="lua,CustomOptionRow('ErrorBarOptions')"
LineErrorBarCap="lua,CustomOptionRow('ErrorBarCap')"
LineFunOptions="lua,CustomOptionRow('FunOptions')"
LineMeasureCounterLookahead="lua,CustomOptionRow('MeasureCounterLookahead')"
LineMeasureCounter="lua,CustomOptionRow('MeasureCounter')"
LineMeasureCounterOptions="lua,CustomOptionRow('MeasureCounterOptions')"
LineLifeBarOptions="lua,CustomOptionRow('LifeBarOptions')"
LineJudgmentFlash="lua,CustomOptionRow('JudgmentFlash')"
LineBeatBars="lua,CustomOptionRow('BeatBars')"
LineComboColors="lua,CustomOptionRow('ComboColors')"
LineComboMode="lua,CustomOptionRow('ComboMode')"
LineTimerMode="lua,CustomOptionRow('TimerMode')"
LineTiltMultiplier="lua,CustomOptionRow('TiltMultiplier')"
LineExtraAesthetics="lua,CustomOptionRow('ExtraAesthetics')"
LineTimingWindowOptions="lua,CustomOptionRow('TimingWindowOptions')"
LineTimingWindows="lua,CustomOptionRow('TimingWindows')"
LineFaPlus="lua,CustomOptionRow('FaPlus')"

# lists assembled by the engine
LinePerspective="list,Perspective"

# LineNoteSkin is the engine-generated OptionRow
# we use it in EditMode's PlayerOptions to avoid buggy behavior
LineNoteSkin="list,NoteSkins"

## effects
Line11="list,Accel"
Line12="list,Effect"
Line13="list,Appearance"

ExplanationP1X=SCREEN_CENTER_X-268
ExplanationP1Y=SCREEN_CENTER_Y+140
ExplanationP1OnCommand=zoom,0.5;wrapwidthpixels,450;maxwidth,520;valign,0;halign,0;shadowlength,2;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_1)
ExplanationP1OffCommand=accelerate,0.3;addx,SCREEN_WIDTH
ExplanationP2X=SCREEN_CENTER_X+28
ExplanationP2Y=SCREEN_CENTER_Y+140
ExplanationP2OnCommand=zoom,0.5;wrapwidthpixels,450;maxwidth,520;valign,0;halign,0;shadowlength,2;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_2)
ExplanationP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH




[ScreenPlayerOptions2]
Class="ScreenPlayerOptions"
Fallback="ScreenPlayerOptions"
PrevScreen="ScreenPlayerOptions"
NextScreen=SL.Global.ScreenAfter.PlayerOptions2
NavigationMode="toggle"
OptionRowNormalMetricsGroup="OptionRow"


# remove ActionOnMissedTarget if we're not in EventMode; it doesn't make sense to have it available in a Public Arcade setting
# remember that removing OptionRows from the modifier menus is only one part of this
# we need to perform additional checks in ./BGA/ScreenGameplay underlay/ to ensure that unwanted modifiers aren't brought into gameplay via player profile
LineNames=(function() \
	local lines = "Turn,Scroll,Hide,LifeMeterType,DataVisualizations,TargetScore,TargetScoreNumber,ActionOnMissedTarget,MiniIndicator,GameplayExtras,GameplayExtrasB,ResultsExtras,ErrorBar,ErrorBarOptions,MeasureCounter,MeasureCounterLookahead,MeasureCounterOptions,TimingWindowOptions,TimingWindows,FaPlus,ScreenAfterPlayerOptions2" \
	if not PREFSMAN:GetPreference("EventMode") then lines = lines:gsub("ActionOnMissedTarget,", "") end \
	if IsUsingWideScreen() or not IsServiceAllowed(SL.GrooveStats.GetScores) then lines = lines:gsub("GameplayExtrasC,", "") end \
   return lines \
end)()

# OptionRows assembled in ./Scripts/SL-PlayerOptions.lua
LineScreenAfterPlayerOptions2="lua,CustomOptionRow('ScreenAfterPlayerOptions2')"

[ScreenPlayerOptions3]
Class="ScreenPlayerOptions"
Fallback="ScreenPlayerOptions"
PrevScreen="ScreenPlayerOptions2"
NextScreen=SL.Global.ScreenAfter.PlayerOptions3
NavigationMode="toggle"
OptionRowNormalMetricsGroup="OptionRow"

# remove Characters if no dancing character directories were found
LineNames=(function() \
	local lines = "Insert,Remove,Holds,11,12,13,Attacks,Characters,ScreenAfterPlayerOptions3" \
	if not IsUsingWideScreen() then lines = lines:gsub("Remove", "RemoveA,RemoveB") end \
	if #CHARMAN:GetAllCharacters() < 1 then lines = lines:gsub("Characters,", "") end \
	return lines \
end)()

# OptionRows assembled in ./Scripts/SL-PlayerOptions.lua
LineScreenAfterPlayerOptions3="lua,CustomOptionRow('ScreenAfterPlayerOptions3')"
# OptionRows assembled by the engine
LineInsert="list,Insert"
LineRemove="list,Remove"
LineRemoveA="list,RemoveA"
LineRemoveB="list,RemoveB"
LineHolds="list,Holds"
LineAttacks="list,Attacks"
LineCharacters="list,Characters"
[ScreenPlayerOptions4]
Class="ScreenPlayerOptions"
Fallback="ScreenPlayerOptions"
PrevScreen="ScreenPlayerOptions"
NextScreen=SL.Global.ScreenAfter.PlayerOptions4
NavigationMode="toggle"
OptionRowNormalMetricsGroup="OptionRow"

LineNames=(function() \
	local lines = "MiniIndicatorColor,StepStatsInfo,StepStatsExtra,ErrorBarCap,LifeBarOptions,JudgmentFlash,BeatBars,ComboColors,ComboMode,TimerMode,TiltMultiplier,ExtraAesthetics,ScreenAfterPlayerOptions4" \
    return lines \
end)()

# OptionRows assembled in ./Scripts/SL-PlayerOptions.lua
LineScreenAfterPlayerOptions4="lua,CustomOptionRow('ScreenAfterPlayerOptions4')"
[ScreenAttackMenu]
Class="ScreenPlayerOptions"
Fallback="ScreenPlayerOptions"
TimerSeconds=-1
NavigationMode="toggle"

LineNames="Mini,Perspective,Scroll,11,12,13"
[OptionRowExtendedPlayerOptions]
Fallback="OptionRow"
ItemsStartX=WideScale(146,155)

[ScreenOptions]
NumRowsShown=8
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) self:y( (SCREEN_CENTER_Y-(ThemePrefs.Get('ITG1') and 118 or 115)) + (28*positionIndex) ); end
TimerOnCommand=%function(self) MenuTimerSet(self) end
TimerCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
RowOnCommand=x,-SCREEN_WIDTH;decelerate,0.3;addx,SCREEN_WIDTH
RowOffCommand=accelerate,0.3;addx,SCREEN_WIDTH
ShowExitRow=true
SeparateExitRow=true
SeparateExitRowY=SCREEN_CENTER_Y+112
ShowScrollBar=true
ScrollBarX=SCREEN_CENTER_X-285
ScrollBarY=SCREEN_CENTER_Y+2
ScrollBarOnCommand=x,-SCREEN_WIDTH;decelerate,0.145;x,SCREEN_CENTER_X-285
ScrollBarOffCommand=accelerate,0.3;addx,SCREEN_WIDTH
ScrollBarHeight=240
ScrollBarTime=.2
CursorOnCommand=zoom,0;decelerate,0.1;zoom,1
CursorOffCommand=accelerate,0.3;addx,SCREEN_WIDTH
CursorTweenSeconds=0.1
LineHighlightP1OnCommand=x,-SCREEN_WIDTH;ztest,true;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,1;decelerate,0.145;x,SCREEN_CENTER_X
LineHighlightP1ChangeCommand=
LineHighlightP1ChangeToExitCommand=
LineHighlightP1OffCommand=accelerate,0.3;addx,SCREEN_WIDTH
LineHighlightP2OnCommand=x,-SCREEN_WIDTH;ztest,true;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,1;decelerate,0.145;x,SCREEN_CENTER_X
LineHighlightP2ChangeCommand=
LineHighlightP2ChangeToExitCommand=
LineHighlightP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH

DisqualifyP1X=SCREEN_CENTER_X-160
DisqualifyP1Y=SCREEN_CENTER_Y+111
DisqualifyP1OnCommand=addx,-SCREEN_WIDTH;decelerate,0.1;addx,SCREEN_WIDTH;zoom,0.5;glowshift;effectcolor2,color("1,.9,0.2,0.8")
DisqualifyP1OffCommand=accelerate,0.3;addx,SCREEN_WIDTH
DisqualifyP2X=SCREEN_CENTER_X+160
DisqualifyP2Y=SCREEN_CENTER_Y+111
DisqualifyP2OnCommand=addx,-SCREEN_WIDTH;decelerate,0.1;addx,SCREEN_WIDTH;zoom,0.5;glowshift;effectcolor2,color(".4,1,.2,0.8")
DisqualifyP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH

MoreX=SCREEN_CENTER_X-1
MoreY=SCREEN_CENTER_Y+112
MoreOnCommand=
MoreOffCommand=accelerate,0.3;addx,SCREEN_WIDTH
MoreExitSelectedP1Command=
MoreExitSelectedP2Command=
MoreExitUnselectedP1Command=
MoreExitUnselectedP2Command=

ExplanationP1X=SCREEN_CENTER_X-268
ExplanationP1Y=SCREEN_CENTER_Y+140
ExplanationP1OnCommand=zoom,0.5;wrapwidthpixels,450;maxwidth,520;valign,0;halign,0;shadowlength,2;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_1)
ExplanationP1OffCommand=accelerate,0.3;addx,SCREEN_WIDTH
ExplanationP2X=SCREEN_CENTER_X+28
ExplanationP2Y=SCREEN_CENTER_Y+140
ExplanationP2OnCommand=zoom,0.5;wrapwidthpixels,450;maxwidth,520;valign,0;halign,0;shadowlength,2;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_2)
ExplanationP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH

ExplanationTogetherCancelMessageCommand=stoptweening;accelerate,0.3;addx,SCREEN_WIDTH
ExplanationP1CancelMessageCommand=stoptweening;accelerate,0.3;addx,SCREEN_WIDTH
ExplanationP2CancelMessageCommand=stoptweening;accelerate,0.3;addx,SCREEN_WIDTH
RowCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
ScrollBarCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
CursorCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
LineHighlightP1CancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
LineHighlightP2CancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
DisqualifyP1CancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
DisqualifyP2CancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH

[ScreenMapControllers]
LinesVisible=16
LinesVisible=8

# The position of the Devices list and its On/Off commands.
DevicesX=SCREEN_CENTER_X
DevicesY=SCREEN_CENTER_Y+140
DevicesOnCommand=vertalign,top;maxheight,92;zoom,0.75;draworder,5;strokecolor,color("0,0,0,1")
DevicesOffCommand=accelerate,0.3;addy,SCREEN_HEIGHT

LineScrollerOnCommand=%function(self) self:draworder(-1); self:y(128) self:setsecondsperitem(0.1) self:SetTransformFromHeight(28) self:ztest(1) end
LineScrollerOffCommand=
LineHideCommand=visible,false
LineOnCommand=%function(self) self:y(0); self:visible(true); local LeftToRight = math.mod(self.ItemIndex, 2) == 0 and 1 or -1; self:addx(-SCREEN_WIDTH * LeftToRight); end
LineOffCommand=%function(self) local LeftToRight = math.mod(self.ItemIndex, 2) == 0 and 1 or -1; self:stoptweening() self:accelerate(0.3); self:addx(SCREEN_WIDTH * LeftToRight); self:queuecommand('Hide') end
# The "P1 slots" and "P2 slots" labels.  Use the entries in en.ini to change text.
LabelP1OnCommand=x,SCREEN_CENTER_X*0.4;zoom,0.7;shadowlength,1
LabelP1OffCommand=linear,0.5;diffusealpha,0
LabelP2OnCommand=x,SCREEN_CENTER_X*1.6;zoom,0.7;shadowlength,1
LabelP2OffCommand=linear,0.5;diffusealpha,0
# The primary effect of keys on this row.
PrimaryOnCommand=x,SCREEN_CENTER_X;y,0;zoom,0.5;shadowlength,1;ztest,true
# The secondary effect of keys on this row.
SecondaryOnCommand=x,SCREEN_CENTER_X;y,9;zoom,0.5;shadowlength,1;ztest,true
ListHeaderOnCommand=diffuse,color("#808080");shadowlength,0;max_dimension_use_zoom,true;zoom,0.75;maxwidth,130;

LabelP1OnCommand=x,SCREEN_CENTER_X*0.4;zoom,0
LabelP1OffCommand=linear,0.5;diffusealpha,0
LabelP2OnCommand=x,SCREEN_CENTER_X*1.6;zoom,0
LabelP2OffCommand=linear,0.5;diffusealpha,0

ListHeaderP1S1Command=x,SCREEN_CENTER_X-230;ztest,1
ListHeaderP1S2Command=x,SCREEN_CENTER_X-160;ztest,1
ListHeaderP1S3Command=x,SCREEN_CENTER_X-80;ztest,1
ListHeaderP2S1Command=x,SCREEN_CENTER_X+80;ztest,1
ListHeaderP2S2Command=x,SCREEN_CENTER_X+160;ztest,1
ListHeaderP2S3Command=x,SCREEN_CENTER_X+230;ztest,1
ListHeaderCenterOnCommand=x,SCREEN_CENTER_X;y,-30;zoom,0;shadowlength,1;ztest,1
# The positions of the elements showing what is mapped.
MappedToP1S1Command=x,SCREEN_CENTER_X-230;ztest,1
MappedToP1S2Command=x,SCREEN_CENTER_X-160;ztest,1
MappedToP1S3Command=x,SCREEN_CENTER_X-80;ztest,1
MappedToP2S1Command=x,SCREEN_CENTER_X+80;ztest,1
MappedToP2S2Command=x,SCREEN_CENTER_X+160;ztest,1
MappedToP2S3Command=x,SCREEN_CENTER_X+230;ztest,1
# These commands are shared between all the elements.
ListHeaderOnCommand=diffuse,color("#808080");shadowlength,0;max_dimension_use_zoom,true;zoom,0.75;maxwidth,130;ztest,1
MappedToOnCommand=diffuse,color("#808080");shadowlength,0;zoom,0.6;max_dimension_use_zoom,true;maxwidth,130;ztest,1
# WaitingCommand is executed when the player hits enter to set a key.
MappedToWaitingCommand=diffuse,color("#FF8080");pulse;effectperiod,0.5;effectmagnitude,0.8,1.3,0
# MappedInputCommand is executed after the player maps the key.
MappedToMappedInputCommand=diffuse,color("#808080");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF")
MappedToGainFocusCommand=diffuse,color("#808080");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF")
MappedToLoseFocusCommand=diffuse,color("#808080");stopeffect
# GainMarkCommand is executed when the player adds the element to the set list.
MappedToGainMarkCommand=textglowmode,'TextGlowMode_Inner';glow,color("#FF00007f")
# LoseMarkCommand is executed when the player removes the element from the set list.
MappedToLoseMarkCommand=textglowmode,'TextGlowMode_Inner';glow,color("#FF000000")
# The primary effect of keys on this row.
PrimaryOnCommand=x,SCREEN_CENTER_X;y,-6;zoom,0.7;shadowlength,1;ztest,1
# The secondary effect of keys on this row.
SecondaryOnCommand=x,SCREEN_CENTER_X;y,6;zoom,0.5;shadowlength,1;ztest,1

[ScreenEdit]
InputTipsOnCommand=hidden,1
InfoX=SCREEN_RIGHT-140
InfoY=SCREEN_CENTER_Y
InfoOnCommand=horizalign,left;zoom,0.5;shadowlength,2;draworder,-1
PlayRecordHelpX=SCREEN_LEFT+40
PlayRecordHelpY=SCREEN_BOTTOM-40
PlayRecordHelpOnCommand=horizalign,left;zoom,0.5;shadowlength,2
EditHelpOnCommand=visible,false

[TextBannerEditMode]
Fallback="TextBanner"

[CourseTextBanner]
Fallback="TextBanner"
TitleOnCommand=x,-130;shadowlength,0;halign,0;maxwidth,410;
SubtitleOnCommand=x,-130;y,12;zoom,0.5;shadowlength,0;halign,0
ArtistOnCommand=visible,false
AfterSetCommand=%CourseTextBannerAfterSet

[SongManager]
NumSongGroupColors=1
SongGroupColor1=color("#FEFFBE")
NumCourseGroupColors=2
CourseGroupColor1=color("1,1,1,1")
CourseGroupColor2=color("#FEFFBE")
UseUnlockColor=ThemePrefs.Get("UseUnlockColor")

[EditMenu]
EditMode="EditMode_Full"
ShowGroups=true

Arrows1X=SCREEN_CENTER_X-140
Arrows2X=SCREEN_CENTER_X+260
ArrowsEnabledCommand=diffuse,color("1,1,1,1");
ArrowsDisabledCommand=diffuse,color("0.0.4,0.0.4,0.0.4,1");

SongBannerX=SCREEN_CENTER_X+170
SongBannerY=SCREEN_CENTER_Y-90
GroupBannerOnCommand=scaletoclipped,120,40

TextBannerType="TextBannerEditMode"
SongTextBannerX=SCREEN_CENTER_X-10
SongTextBannerY=SCREEN_CENTER_Y-90

StepsDisplayX=SCREEN_CENTER_X+170
StepsDisplayY=SCREEN_CENTER_Y-10
StepsDisplaySourceX=SCREEN_CENTER_X+170
StepsDisplaySourceY=SCREEN_CENTER_Y+50

Row1Y=SCREEN_CENTER_Y-140
Row2Y=SCREEN_CENTER_Y-90
Row3Y=SCREEN_CENTER_Y-40
Row4Y=SCREEN_CENTER_Y-10
Row5Y=SCREEN_CENTER_Y+20
Row6Y=SCREEN_CENTER_Y+50
Row7Y=SCREEN_CENTER_Y+80

Label1X=SCREEN_CENTER_X-250
Label1OnCommand=shadowlength,1;zoom,0.5;horizalign,left
Label2X=SCREEN_CENTER_X-250
Label2OnCommand=shadowlength,1;zoom,0.5;horizalign,left
Label3X=SCREEN_CENTER_X-250
Label3OnCommand=shadowlength,1;zoom,0.5;horizalign,left
Label4X=SCREEN_CENTER_X-250
Label4OnCommand=shadowlength,1;zoom,0.5;horizalign,left
Label5X=SCREEN_CENTER_X-250
Label5OnCommand=shadowlength,1;zoom,0.5;horizalign,left
Label6X=SCREEN_CENTER_X-250
Label6OnCommand=shadowlength,1;zoom,0.5;horizalign,left
Label7X=SCREEN_CENTER_X-250
Label7OnCommand=shadowlength,1;zoom,0.5;horizalign,left

Value1X=SCREEN_CENTER_X-24
Value1OnCommand=shadowlength,1;zoom,0.5;maxwidth,SCREEN_CENTER_X*0.65
Value2X=SCREEN_CENTER_X+60
Value2OnCommand=shadowlength,1;zoom,0.5;maxwidth,SCREEN_CENTER_X*0.65
Value3X=SCREEN_CENTER_X+60
Value3OnCommand=shadowlength,1;zoom,0.5;maxwidth,SCREEN_CENTER_X*0.65
Value4X=SCREEN_CENTER_X
Value4OnCommand=shadowlength,1;zoom,0.5;maxwidth,SCREEN_CENTER_X*0.65
Value5X=SCREEN_CENTER_X+60
Value5OnCommand=shadowlength,1;zoom,0.5;maxwidth,SCREEN_CENTER_X*0.65
Value6X=SCREEN_CENTER_X
Value6OnCommand=shadowlength,1;zoom,0.5;maxwidth,SCREEN_CENTER_X*0.65
Value7X=SCREEN_CENTER_X+60
Value7OnCommand=shadowlength,1;zoom,0.5;maxwidth,SCREEN_CENTER_X*0.65

[ScreenEditMenu]
ExplanationX=SCREEN_CENTER_X
ExplanationY=SCREEN_CENTER_Y+134
ExplanationOnCommand=wrapwidthpixels,900;zoom,0.6;shadowlength,0;cropright,1;linear,0.5;cropright,0
NumStepsLoadedFromProfileX=SCREEN_RIGHT-180
NumStepsLoadedFromProfileY=SCREEN_TOP+42
NumStepsLoadedFromProfileOnCommand=visible,false

[ScreenMiniMenuMainMenu]
Fallback="ScreenMiniMenu"
TitleX=SCREEN_CENTER_X-80

MoreOnCommand=visible,false
ShowScrollBar=false

[ScreenMiniMenuContext]
Fallback="ScreenMiniMenu"
NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(16*(offsetFromCenter-(numItems-1)/2)) end
ShowHelp=false
OptionRowNormalMetricsGroup="OptionRowMiniMenuContext"

[OptionRowMiniMenuContext]
TitleOnCommand=zoom,0.6;halign,0;shadowlength,0

[ScreenTextEntry]
Class="ScreenTextEntry"
Fallback="ScreenWithMenuElements"
TimerSeconds=0
StyleIcon=0
RowStartX=SCREEN_LEFT+100
RowStartY=SCREEN_CENTER_Y-30
RowEndX=SCREEN_RIGHT-100
RowEndY=SCREEN_BOTTOM-96
QuestionX=SCREEN_LEFT+60
QuestionY=SCREEN_CENTER_Y-100
QuestionOnCommand=horizalign,left;vertspacing,-10;zoom,0.7;shadowlength,0;skewx,-0.1
QuestionOffCommand=
AnswerX=SCREEN_CENTER_X
AnswerY=SCREEN_CENTER_Y
AnswerOnCommand=zoom,0.7;shadowlength,0;maxwidth,640
AnswerOffCommand=
CursorOnCommand=
CursorOffCommand=
KeysInitCommand=zoom,0.7;shadowlength,0
[OptionRow]
ShowBpmInSpeedTitle=false

TitleX=SCREEN_CENTER_X-270
TitleOnCommand=shadowlength,0;zoom,.5;halign,0;wrapwidthpixels,180;
TitleGainFocusCommand=%function(self)\
	self:diffuse(PlayerColor(PLAYER_1)) \
	DiffuseEmojis(self) \
	MESSAGEMAN:Broadcast("OptionRowChanged", {Title=self}) \
end
TitleLoseFocusCommand=diffuse,color("#FFFFFF")

FrameX=0
FrameY=0


ItemsStartX=SCREEN_CENTER_X-160
ItemsEndX=SCREEN_CENTER_X+180

# the x value of where to draw the single BitmapText item that
# will display when the OptionRow's layout is ShowOneInRow
ItemsLongRowP1X=SCREEN_CENTER_X-120
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X

# pixels between each item when the OptionRow's layout is ShowAllInOneRow
ItemsGapX=10

ItemOnCommand=shadowlength,0;zoom,0.5;
ItemGainFocusCommand=
ItemLoseFocusCommand=

# use a slightly different StartX value for PlayerOptions2 and PlayerOptions3
# where every row is guaranteed to start with a â¼ character

[OptionRowService]
TitleX=SCREEN_CENTER_X
TitleY=
TitleOnCommand=shadowlength,0;zoom,0;
FrameOnCommand=zoom,1;x,SCREEN_CENTER_X
TitleGainFocusCommand=diffuse,color("1,1,1,1");
TitleLoseFocusCommand=diffuse,color("0.5,0.5,0.5,1");
ItemsOnCommand=shadowlength,0;zoom,0.5;
[OptionRowSimpleService]
Fallback="OptionRowSimple"
# intentionally empty so it doesn't inherit from [OptionRow]
FrameOnCommand=
TitleX=WideScale(20,40)
TitleGainFocusCommand=%function(self) \
	local index = SCREENMAN:GetTopScreen():GetCurrentRowIndex(PLAYER_1) + SL.Global.ActiveColorIndex \
	self:diffuse( GetHexColor(index) ) \
	MESSAGEMAN:Broadcast("OptionRowChanged", {Title=self}) \
end
ItemsStartX=
[OptionRowSimple]
Fallback="OptionRow"
ShowBpmInSpeedTitle=true
ItemsMinBaseZoom=0.7
ItemOnCommand=shadowlength,0;zoom,0.5;
TitleX=SCREEN_CENTER_X-270
TitleOnCommand=shadowlength,0;zoom,.5;halign,0;wrapwidthpixels,180;
TitleCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
ItemCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
ItemsStartX=SCREEN_CENTER_X-160
ItemsEndX=SCREEN_CENTER_X+180
ItemsGapX=10
ItemsLongRowP1X=SCREEN_CENTER_X-60
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X
[ScreenOptionsSimple]
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) self:y( (_screen.cy-180) + (32*positionIndex) ); end
StopMusicOnBack=false
SeparateExitRow=false
ExplanationTogetherX=_screen.cx-25
ExplanationTogetherOnCommand=%function(self) \
	self:zoom(0.725):_wrapwidthpixels(_screen.w/self:GetZoom()):vertspacing(-8) \
	self:diffuse(ThemePrefs.Get("RainbowMode") and Color.White or Color.Black) \
end
OptionRowNormalMetricsGroup="OptionRowSimple"
OptionRowExitMetricsGroup="OptionRowSimpleExit"
CursorOnCommand=visible,false
ShowCreditDisplay=false

[ScreenSystemLayer]
CreditsP1X=SCREEN_LEFT+38
CreditsP1Y=SCREEN_BOTTOM-12
CreditsP1OnCommand=shadowlength,0;horizalign,left;vertalign,bottom;zoom,0.5
CreditsP2X=SCREEN_RIGHT-38
CreditsP2Y=SCREEN_BOTTOM-12
CreditsP2OnCommand=shadowlength,0;horizalign,right;vertalign,bottom;zoom,0.5
MessageX=0
MessageY=0
MessageOnCommand=finishtweening;horizalign,left;x,SCREEN_LEFT+20;y,SCREEN_TOP+80;zoom,0.6;shadowlength,2;diffusealpha,1;addx,-SCREEN_WIDTH;linear,0.5;addx,SCREEN_WIDTH
MessageOffCommand=sleep,5;linear,0.5;diffusealpha,0
MessageFrameX=0
MessageFrameY=0
MessageFrameOnCommand=DrawOrder,-1;finishtweening;x,SCREEN_CENTER_X;y,SCREEN_TOP+80;diffusealpha,0;linear,0.5;diffusealpha,0.5
MessageFrameOffCommand=sleep,5;linear,0.5;diffusealpha,0
[OptionRowSimpleExit]
Fallback="OptionRow"
TitleX=WideScale(20,40)
TitleGainFocusCommand=%function(self) \
	self:diffuse(0,0,0,1) \
	MESSAGEMAN:Broadcast("OptionRowChanged", {Title=self}) \
end
FrameGainFocusCommand=diffuse,PlayerColor(PLAYER_1);diffusealpha,1
ItemOnCommand=visible,false
[ScreenOptionsService]


RowOnCommand=
RowOffCommand=
ShowCreditDisplay=false
LineNames=(function() \
   local lines = "SystemOptions,MapControllers,TestInput,InputOptions,GraphicsSoundOptions,VisualOptions,ArcadeOptions,AdvancedOptions,MenuTimerOptions,USBProfileOptions,OptionsManageProfiles,ThemeOptions,GrooveStatsOptions,StepManiaCredits,ClearCredits,Reload" \
   if GAMESTATE:GetCoinMode() ~= "CoinMode_Pay" then lines = lines:gsub("ClearCredits,", "") end \
   if not PREFSMAN:PreferenceExists("CustomSongsEnable") then lines = lines:gsub("USBProfileOptions,", "") end \
   return lines \
end)()

LineNames=(function() \
   local lines = "SystemOptions,MapControllers,TestInput,InputOptions,GraphicsSoundOptions,VisualOptions,ArcadeOptions,AdvancedOptions,MenuTimerOptions,USBProfileOptions,OptionsManageProfiles,ThemeOptions,GrooveStatsOptions,ZmodOptions,StepManiaCredits,ClearCredits,Reload" \
   if GAMESTATE:GetCoinMode() ~= "CoinMode_Pay" then lines = lines:gsub("ClearCredits,", "") end \
   if not PREFSMAN:PreferenceExists("CustomSongsEnable") then lines = lines:gsub("USBProfileOptions,", "") end \
   return lines \
end)()
LineSystemOptions="gamecommand;screen,ScreenSystemOptions;name,SystemOptions"
LineMapControllers="gamecommand;screen,ScreenMapControllers;name,Key Joy Mappings"
LineTestInput="gamecommand;screen,ScreenTestInput;name,Test Input"
LineInputOptions="gamecommand;screen,ScreenInputOptions;name,InputOptions"
LineGraphicsSoundOptions="gamecommand;screen,ScreenGraphicsSoundOptions;name,GraphicsSoundOptions"
LineVisualOptions="gamecommand;screen,ScreenVisualOptions;name,VisualOptions"
LineArcadeOptions="gamecommand;screen,ScreenArcadeOptions;name,ArcadeOptions"
LineAdvancedOptions="gamecommand;screen,ScreenAdvancedOptions;name,AdvancedOptions"
LineMenuTimerOptions="gamecommand;screen,ScreenMenuTimerOptions;name,MenuTimerOptions"
LineUSBProfileOptions="gamecommand;screen,ScreenUSBProfileOptions;name,USBProfileOptions"
LineOptionsManageProfiles="gamecommand;screen,ScreenOptionsManageProfiles;name,Profiles"
LineAppearance="gamecommand;screen,ScreenAppearanceOptions;name,AppearanceOptions"
LineThemeOptions="gamecommand;screen,ScreenThemeOptions;name,ThemeOptions"
LineStepManiaCredits="gamecommand;screen,ScreenCredits;name,StepMania Credits"
LineClearCredits="gamecommand;clearcredits;name,Clear Credits"
LineGrooveStatsOptions="gamecommand;screen,ScreenGrooveStatsOptions;name,GrooveStatsOptions"
LineZmodOptions="gamecommand;screen,ScreenZmodOptions;name,ZmodOptions"

ExplanationTogetherOnCommand=visible,false

[ScreenSystemOptions]
Fallback="ScreenOptionsServiceChild"
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

LineNames="Game,Theme,Language,Announcer,DefaultNoteSkin,EditorNoteSkin"
LineGame="conf,Game"
LineTheme="lua,OperatorMenuOptionRows.Theme()"
LineLanguage="conf,Language"
LineAnnouncer="conf,Announcer"
LineDefaultNoteSkin="conf,DefaultNoteSkin"
LineEditorNoteSkin="lua,OperatorMenuOptionRows.EditorNoteskin()"
[ScreenPromptToResetPreferencesToStock]
Fallback="ScreenWithMenuElements"
PrevScreen="ScreenSystemOptions"
NextScreen="ScreenOptionsService"
HeaderOnCommand=visible,false
FooterOnCommand=visible,false
ShowCreditDisplay=false
[ScreenPromptToSetSrpgVisualStyle]
Fallback="ScreenWithMenuElements"
PrevScreen="ScreenTitleMenu"
NextScreen="ScreenTitleMenu"
HeaderOnCommand=visible,false
FooterOnCommand=visible,false
ShowCreditDisplay=false
[ScreenSrpgCutscenes]
Fallback="ScreenWithMenuElements"
PrevScreen="ScreenSelectMusic"
NextScreen="ScreenSelectMusic"
HeaderOnCommand=visible,false
FooterOnCommand=visible,false
ShowCreditDisplay=false

[ScreenGameplaySyncMachine]
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"


[ScreenOptionsServiceSub]
Fallback="ScreenOptionsService"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

[ScreenVisualOptions]
Fallback="ScreenOptionsServiceSub"
LineNames="AppearanceOptions,Set BG Fit Mode,Overscan Correction,CRT Test Patterns"
LineAppearanceOptions="gamecommand;screen,ScreenAppearanceOptions;name,AppearanceOptions"
LineSet BG Fit Mode="gamecommand;screen,ScreenSetBGFit;name,Set BG Fit Mode"
LineOverscan Correction="gamecommand;screen,ScreenOverscanConfig;name,Overscan Correction"
LineCRT Test Patterns="gamecommand;screen,ScreenCRTTestPatterns;name,CRT Test Patterns"

[ScreenAppearanceOptions]
PrevScreen="ScreenVisualOptions"
NextScreen="ScreenVisualOptions"

LineNames="Center1Player,ShowBanners,BGBrightness,RandomBackgroundMode,NumBackgrounds,ShowLyrics,ShowNativeLanguage,ShowDancingCharacters"
LineShowNativeLanguage="conf,ShowNativeLanguage"
LineShowLyrics="conf,ShowLyrics"
LineShowBanners="conf,ShowBanners"
LineBGBrightness="conf,BGBrightness"
LineRandomBackgroundMode="conf,RandomBackgroundMode"
LineNumBackgrounds="conf,NumBackgrounds"
LineCenter1Player="conf,Center1Player"
LineShowDancingCharacters="conf,ShowDancingCharacters"
[ScreenSrpgCutscenes]
Fallback="ScreenWithMenuElements"
PrevScreen="ScreenSelectMusic"
NextScreen="ScreenSelectMusic"
HeaderOnCommand=visible,false
FooterOnCommand=visible,false
ShowCreditDisplay=false
[ScreenCredits]
NextScreen="ScreenOptionsService"
[ScreenGraphicsSoundOptions]
Fallback="ScreenOptionsServiceChild"
# Start with all possible OptionRows, and remove RefreshRate and FSType if the corresponding
# functions aren't available; they were both added in 5.1 but SL also supports 5.0.12 for now
# Remove DisplayMode from macOS for now; this is still broken in 5.1-beta and can cause players to get stuck.
LineNames=(function() \
   local lines = "VideoRenderer,DisplayMode,DisplayAspectRatio,DisplayResolution,RefreshRate,FullscreenType,DisplayColorDepth,HighResolutionTextures,MaxTextureResolution,TextureColorDepth,MovieColorDepth,SmoothLines,CelShadeModels,DelayedTextureDelete,Vsync,FastNoteRendering,ShowStats,AttractSoundFrequency,SoundVolume,EnableAttackSounds,EnableMineHitSound,GlobalOffsetSeconds,VisualDelaySeconds,RateModPreservesPitch" \
	if type(ConfAspectRatio) ~= "function" then lines = lines:gsub("DisplayAspectRatio","DisplayAspectRatioConf") end \
	if type(ConfDisplayResolution) ~= "function" then lines = lines:gsub("DisplayResolution", "DisplayResolutionConf") end \
	if type(ConfDisplayMode) ~= "function" then lines = lines:gsub("DisplayMode,", "") end \
   if type(ConfRefreshRate) ~= "function" then lines = lines:gsub("RefreshRate,", "") end \
   if type(ConfFullscreenType) ~= "function" then lines = lines:gsub("FullscreenType,", "") end \
   if HOOKS:GetArchName():lower():match("mac") then lines = lines:gsub("DisplayMode,","") end \
   return lines \
end)()

# SM5.0.12 uses conf,ConfAspectRatio
# SM5.1 moved it to Lua so resolution OptionRow choices could dynamically update as current AspectRatio choice changed
LineDisplayAspectRatioConf="conf,DisplayAspectRatio"
LineDisplayAspectRatio="lua,ConfAspectRatio()"

# similar with DisplayResolution
LineDisplayResolutionConf="conf,DisplayResolution"
LineDisplayResolution="lua,ConfDisplayResolution()"

LineDisplayMode="lua,ConfDisplayMode()"
LineRefreshRate="conf,RefreshRate"
LineFullscreenType="lua,ConfFullscreenType()"
LineFullscreenType="lua,ConfFullscreenType()"
LineVideoRenderer="lua,OperatorMenuOptionRows.VideoRenderer()"
LineDisplayColorDepth="conf,DisplayColorDepth"
LineHighResolutionTextures="conf,HighResolutionTextures"
LineMaxTextureResolution="conf,MaxTextureResolution"
LineTextureColorDepth="conf,TextureColorDepth"
LineMovieColorDepth="conf,MovieColorDepth"
LineSmoothLines="conf,SmoothLines"
LineCelShadeModels="conf,CelShadeModels"
LineDelayedTextureDelete="conf,DelayedTextureDelete"
LineVsync="conf,Vsync"
LineFastNoteRendering="conf,FastNoteRendering"
LineShowStats="conf,ShowStats"
LineAttractSoundFrequency="conf,AttractSoundFrequency"
LineSoundVolume="conf,SoundVolume"
LineEnableAttackSounds="conf,EnableAttackSounds"
LineEnableMineHitSound="conf,EnableMineHitSound"
LineGlobalOffsetSeconds="lua,OperatorMenuOptionRows.GlobalOffsetSeconds()"
LineVisualDelaySeconds="lua,OperatorMenuOptionRows.VisualDelaySeconds()"
LineRateModPreservesPitch="conf,RateModPreservesPitch"
[ScreenSetBGFit]
PrevScreen="ScreenVisualOptions"
NextScreen="ScreenVisualOptions"
FooterOnCommand=visible,false
ShowCreditDisplay=false
[ScreenInputOptions]
Fallback="ScreenOptionsServiceChild"
LineNames=(function() \
	local lines = "AutoMap,OnlyDedicatedMenu,OptionsNav,Debounce,ThreeKey,AxisFix" \
	if HOOKS:GetArchName():lower():match("mac") or IsOutFox() then \
		lines = lines:gsub(",AxisFix","") \
	end \
	return lines \
end)()
LineAutoMap="conf,AutoMapOnJoyChange"
LineOnlyDedicatedMenu="conf,OnlyDedicatedMenuButtons"
LineOptionsNav="conf,ArcadeOptionsNavigation"
LineDebounce="conf,InputDebounceTime"
LineThreeKey="conf,ThreeKeyNavigation"
LineAxisFix="conf,AxisFix"
[ScreenOverscanConfig]
PrevScreen="ScreenVisualOptions"
NextScreen="ScreenVisualOptions"

[ScreenCRTTestPatterns]
Fallback="ScreenWithMenuElements"
PrevScreen="ScreenVisualOptions"
NextScreen="ScreenVisualOptions"
FooterOnCommand=visible,false
ShowCreditDisplay=false

[ScreenArcadeOptions]
Fallback="ScreenOptionsServiceChild"
LineNames="Event,Coin,CoinsPerCredit,MaxNumCredits,Premium,SongsPerPlay,Long Time,Marathon Time,HighScoresWithSameName,ComboContinues,Disqualification,FailOffForFirstStageEasy,FailOffInBeginner,LockCourseDifficulties,NumberOfHighScoresPerListForMachine,NumberOfHighScoresPerListPerPlayer"
LineEvent="conf,EventMode"
LineCoin="conf,CoinMode"
LineCoinsPerCredit="conf,CoinsPerCredit"
LineMaxNumCredits="conf,MaxNumCredits"
LinePremium="conf,Premium"

LineSongsPerPlay="conf,SongsPerPlay"
LineOptionsNavigation="conf,ArcadeOptionsNavigation"
LineMenuButtons="conf,OnlyDedicatedMenuButtons"

LineLong Time="lua,OperatorMenuOptionRows.LongAndMarathonTime('Long')"
LineMarathon Time="lua,OperatorMenuOptionRows.LongAndMarathonTime('Marathon')"

LineHighScoresWithSameName="conf,AllowMultipleHighScoreWithSameName"
LineComboContinues="conf,ComboContinuesBetweenSongs"
LineDisqualification="conf,Disqualification"
LineFailOffForFirstStageEasy="conf,FailOffForFirstStageEasy"
LineFailOffInBeginner="conf,FailOffInBeginner"
LineLockCourseDifficulties="conf,LockCourseDifficulties"
LineNumberOfHighScoresPerListForMachine="conf,MaxHighScoresPerListForMachine"
LineNumberOfHighScoresPerListPerPlayer="conf,MaxHighScoresPerListForPlayer"
[ScreenOptionsManageProfiles]
OptionRowNormalMetricsGroup="OptionRowManageLocalProfiles"
OptionRowExitMetricsGroup="OptionRowManageLocalProfilesExit"
ExplanationTogetherY=_screen.cy+180


[OptionRowManageLocalProfiles]
Fallback="OptionRowSimple"

# Underlines make sense in normal OptionRows where there are multiple items to choose from
# (for example, ScreenPlayerOptions) for each OptionRow, but ScreenOptionsManageProfiles is a
# very specific, very peculiar (hackish) use of OptionRows.  We aren't using each OptionRow to choose
# from a variety of choices; we're having each OptionRow represent a single choice (a local profile).
# This re-use of code is confusing to programmers, and displaying underlines where they do not
# denote any meaning is confusing to players.  So don't show underlines.
ShowUnderlines=false

# the "Item" of these OptionRows in ScreenOptionsManageProfiles will be
# one of "P1", "P2", or "" depending on whether the local profile
# this OptionRow represents is currently assigned to a particular player
ItemOnCommand=zoom,0.75
ItemsStartX=220
[ScreenTestInput]
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"
HeaderOnCommand=visible,false
FooterOnCommand=visible,false
[OptionRowManageLocalProfilesExit]
Fallback="OptionRowManageLocalProfiles"
ItemOnCommand=visible,false

[ScreenGrooveStatsOptions]
Fallback="ScreenOptionsServiceChild"
LineNames="EnableGrooveStats,AutoDownloadUnlocks,SeparateUnlocksByPlayer"

LineEnableGrooveStats="lua,ThemePrefsRows.GetRow('EnableGrooveStats')"
LineAutoDownloadUnlocks="lua,ThemePrefsRows.GetRow('AutoDownloadUnlocks')"
LineSeparateUnlocksByPlayer="lua,ThemePrefsRows.GetRow('SeparateUnlocksByPlayer')"
[ScreenZmodOptions]
Fallback="ScreenOptionsServiceChild"
LineNames="TournamentMode,EnableBoogieStats,ThemeFont,SampleMusicLoop,MusicWheelGS,FolderStats,ITGDiffColors,AnimateBanners"

LineTournamentMode="lua,ThemePrefsRows.GetRow('TournamentMode')"
LineEnableBoogieStats="lua,ThemePrefsRows.GetRow('EnableBoogieStats')"
LineThemeFont="lua,ThemePrefsRows.GetRow('ThemeFont')"
LineSampleMusicLoop="lua,ThemePrefsRows.GetRow('SampleMusicLoop')"
LineMusicWheelGS="lua,ThemePrefsRows.GetRow('MusicWheelGS')"
LineFolderStats="lua,ThemePrefsRows.GetRow('FolderStats')"
LineITGDiffColors="lua,ThemePrefsRows.GetRow('ITGDiffColors')"
LineAnimateBanners="lua,ThemePrefsRows.GetRow('AnimateBanners')"

[ScreenEnding]
PlayMusic=true
Class="ScreenAttract"
PrevScreen=Branch.TitleMenu()
NextScreen="ScreenLogo"
StartScreen=Branch.TitleMenu()
Fallback="ScreenWithMenuElementsBlank"
ResetGameState=true
AttractVolume=false
BackGoesToStartScreen=true
TimerSeconds=20
ForceTimer=true
TimerStealth=true

[ScreenEndingGood]
Fallback="ScreenEnding"
TimerSeconds=44

[ScreenOptionsTheme]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames="MarathonLabel,TimerLabel,ShowAttackList,CompareScores,HideSM5Options,HideStockNoteSkins,StockITGSpeeds,ExperimentalLifebar,StepArtist,UseUnlockColor,UseComboZoom,ShowThemeCredits,TitleMenuType,Legacy,ITG1"
LineMarathonLabel="lua,ThemePrefRow('MarathonLabel')"
LineTimerLabel="lua,ThemePrefRow('TimerLabel')"
LineShowAttackList="lua,ThemePrefRow('ShowAttackList')"
LineCompareScores="lua,ThemePrefRow('CompareScores')"
LineHideSM5Options="lua,ThemePrefRow('HideSM5Options')"
LineHideStockNoteSkins="lua,ThemePrefRow('HideStockNoteSkins')"
LineStockITGSpeeds="lua,ThemePrefRow('StockITGSpeeds')"
LineExperimentalLifebar="lua,ThemePrefRow('ExperimentalLifebar')"
LineStepArtist="lua,ThemePrefRow('StepArtist')"
LineUseUnlockColor="lua,ThemePrefRow('UseUnlockColor')"
LineUseComboZoom="lua,ThemePrefRow('UseComboZoom')"
LineShowThemeCredits="lua,ThemePrefRow('ShowThemeCredits')"
LineLegacy="lua,ThemePrefRow('Legacy')"
LineTitleMenuType="lua,ThemePrefRow('TitleMenuType')"
LineITG1="lua,ThemePrefRow('ITG1')"

[ScreenMiniMenu]
HeaderOnCommand=visible,false
FooterOnCommand=visible,false
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) \
	self:y((_screen.h/numItems) * positionIndex + (_screen.h/numItems) * 0.5) \
end

[ScreenMiniMenuBackgroundChange]
NumRowsShown=30
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) local indexOffset = itemIndex-(numItems-1)/2; self:y( SCREEN_CENTER_Y + indexOffset * 15 ); self:zoom(0.5) end

[ScreenMiniMenuAreaMenu]
Fallback="ScreenMiniMenu"

[OptionRowMiniMenu]
Fallback="OptionRow"
IconsP1X=SCREEN_CENTER_X-280
IconsP2X=SCREEN_CENTER_X+280
IconsOnCommand=x,-30
FrameX=SCREEN_CENTER_X-232
TitleX=SCREEN_CENTER_X-150
TitleOnCommand=halign,0;shadowlength,2;
ItemsStartX=SCREEN_CENTER_X+150
ItemsEndX=SCREEN_CENTER_X+280
ItemsGapX=14
ItemsLongRowP1X=SCREEN_CENTER_X+200
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X+150
ItemOnCommand=addx,300
ColorSelected=color("0.5,1,0.5,1")
ColorNotSelected=color("1,1,1,1")
ColorDisabled=color("0.65,0,0,1")
TweenSeconds=0

[ScreenOptionsSimpleService]
NumRowsShown=9
ShowExitRow=false
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) local offset = positionIndex-(numItems-1)/2; self:y(SCREEN_CENTER_Y-20+34*offset) end
RowOnCommand=
RowInitCommand=x,0;addx,-SCREEN_WIDTH;sleep,0.05;bounceend,0.3;addx,SCREEN_WIDTH
StopMusicOnBack=false
ShowScrollBar=false
SeparateExitRow=true
MoreOnCommand=visible,false
SeparateExitRowY=SCREEN_CENTER_Y+112
LineHighlightP1OnCommand=ztest,1;diffusealpha,0;addx,-SCREEN_WIDTH;decelerate,0.135;addx,SCREEN_WIDTH
LineHighlightP1ChangeCommand=
LineHighlightP1ChangeToExitCommand=
LineHighlightP2OnCommand=ztest,1;diffusealpha,0;addx,-SCREEN_WIDTH;decelerate,0.135;addx,SCREEN_WIDTH
LineHighlightP2ChangeCommand=
LineHighlightP2ChangeToExitCommand=
ExplanationTogetherX=SCREEN_LEFT+50
ExplanationTogetherY=SCREEN_BOTTOM-80
ExplanationTogetherOnCommand=diffusealpha,1;shadowlength,0;zoom,0.8;vertalign,top;horizalign,left;cropright,1;linear,0.5;cropright,0;wrapwidthpixels,SCREEN_WIDTH/1.4;
ExplanationTogetherOffCommand=stoptweening;linear,0.3;diffusealpha,0

[OptionRowChildService]
Fallback="OptionRow"
ItemCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
TitleCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
FrameCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
IconsCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
[OptionRowSimplyLoveOptions]
Fallback="OptionRowServiceChild"
ItemsGapX=13
[ScreenOptionsServiceChild]
OptionRowNormalMetricsGroup="OptionRowChildService"
ShowCreditDisplay=false
NumRowsShown=8
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) self:y( (SCREEN_CENTER_Y- (ThemePrefs.Get('ITG1') and 118 or 115) ) + (28*positionIndex) ); end
StopMusicOnBack=false
SeparateExitRow=true
ExplanationTogetherX=SCREEN_CENTER_X-266
ExplanationTogetherY=SCREEN_CENTER_Y+141
ExplanationTogetherOnCommand=zoom,0.5;wrapwidthpixels,1100;vertalign,top;horizalign,left;cropright,1;linear,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening;accelerate,0.3;addx,SCREEN_WIDTH

ExplanationTogetherCancelMessageCommand=stoptweening;accelerate,0.3;addx,SCREEN_WIDTH
RowCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
ScrollBarCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
CursorCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
LineHighlightP1CancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
LineHighlightP2CancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH


[OptionRowServiceChild]
Fallback="OptionRow"
TitleX=WideScale(20, 40)
FrameX=0
ItemsStartX=WideScale(140, 170)
ItemsEndX=WideScale(256, 400)
ItemsLongRowSharedX=WideScale(210,285)
# intentionally empty so it doesn't inherit from [OptionRow]
FrameOnCommand=
FrameGainFocusCommand=diffuse,DarkUI() and color("#666666FF") or color("#333333FF")
FrameLoseFocusCommand=diffuse,color("#071016");diffusealpha,DarkUI() and 1 or 0.8

[CodeDetector]
PrevSteps1=GetCodeForGame("PrevSteps1")
NextSteps1=GetCodeForGame("NextSteps1")

# Sorting should done via ScreenSelectMusic's SortMenu
# which is accessed via codes defined under [ScreenSelectMusic]
NextSort1=""
NextSort2=""
NextSort3=""
NextSort4=""
CloseCurrentFolder=GetCodeForGame("CloseCurrentFolder") or MenuUp-MenuDown

# This code can be used to navigate the player to whatever PrevScreen evaluates to
# for the current screen. It's a bit too broad to be useful.  Backing out of SelectMusic
# in EventMode is helpful, but accidentally backing out of Evaluation is typically not.
# Set to an empty string here so that it doesn't accidentally fire off.
BackInEventMode=""

# "pad codes" for gameplay modifiers; set each to an
# empty string so they aren't accidentally activated
Mirror=""
Left=""
Right=""
Shuffle=""
SuperShuffle=""
NextTransform=""
NextScrollSpeed=""
PreviousScrollSpeed=""
NextAccel=""
NextEffect=""
NextAppearance=""
NextTurn=""
Reverse=""
HoldNotes=""
Mines=""
Dark=""
NextGroup=""
PrevGroup=""
Hidden=""
RandomVanish=""

# this has been replaced with Lua-driven screenshot saving
SaveScreenshot1=""
SaveScreenshot2=""

[CourseCodeDetector]
Fallback="CodeDetector"


[OptionRowServiceChildExit]
Fallback="OptionRowServiceChild"
TitleOnCommand=visible,false

# Simply Love Options gets its own slightly customized OptionRows
# normally ItemsGapX is 14, which feels comfortable for the Miso Light font
# Set to 13 here so that we can fit more emojis in a single row before
# it collapses into displaying one a time.
[OptionRowSimplyLoveOptions]
Fallback="OptionRowServiceChild"
ItemsGapX=13
[OptionRowSimpleExit]
Fallback="OptionRow"
TitleX=WideScale(20,40)
TitleGainFocusCommand=%function(self) \
	self:diffuse(0,0,0,1) \
	MESSAGEMAN:Broadcast("OptionRowChanged", {Title=self}) \
end
FrameGainFocusCommand=diffu
[OptionRowSimpleService]
Fallback="OptionRowSimple"
# intentionally empty so it doesn't inherit from [OptionRow]
FrameOnCommand=
TitleX=WideScale(20,40)
TitleGainFocusCommand=%function(self) \
	local index = SCREENMAN:GetTopScreen():GetCurrentRowIndex(PLAYER_1) + SL.Global.ActiveColorIndex \
	self:diffuse( GetHexColor(index) ) \
	MESSAGEMAN:Broadcast("OptionRowChanged", {Title=self}) \
end
[ScoreDisplayPercentage Percent]
PercentFormat="%2d"
PercentP1OnCommand=shadowlength,0;diffuse,color("#FBBE03")
PercentP1OffCommand=
PercentP2OnCommand=shadowlength,0;diffuse,color("#56FF48")
PercentP2OffCommand=
PercentUseRemainder=false
ApplyScoreDisplayOptions=true
Format=FormatPercentScore
PercentDecimalPlaces=2
PercentTotalSize=5
RemainderFormat=

[ScoreDisplayRave]
MeterP1X=WideScale(140,190)
MeterP1Y=-150
MeterP1OnCommand=
MeterP1OffCommand=
MeterP2X=WideScale(-140,-190)
MeterP2Y=-150
MeterP2OffCommand=
MeterP1OnCommand=zoomx,1;zoomy,1.7;rotationz,-90;glowshift;effectcolor2,1,1,1,0.5
MeterP2OnCommand=zoomx,1;zoomy,1.7;rotationz,-90;glowshift;effectcolor2,1,1,1,0.5

LevelP1X=THEME:GetMetric("ScoreDisplayRave","MeterP1X")
LevelP1Y=THEME:GetMetric("ScoreDisplayRave","MeterP1Y")-160
LevelP1OnCommand=diffuse,PlayerColor(PLAYER_1)

LevelP2X=THEME:GetMetric("ScoreDisplayRave","MeterP2X")
LevelP2Y=THEME:GetMetric("ScoreDisplayRave","MeterP2Y")-160
LevelP2OnCommand=diffuse,PlayerColor(PLAYER_2)

FrameBaseP1X=THEME:GetMetric("ScoreDisplayRave","MeterP1X")
FrameBaseP1Y=THEME:GetMetric("ScoreDisplayRave","MeterP1Y")
FrameBaseP2X=THEME:GetMetric("ScoreDisplayRave","MeterP2X")
FrameBaseP2Y=THEME:GetMetric("ScoreDisplayRave","MeterP2Y")

FrameOverP1X=THEME:GetMetric("ScoreDisplayRave","MeterP1X")
FrameOverP1Y=THEME:GetMetric("ScoreDisplayRave","MeterP1Y")
FrameOverP2X=THEME:GetMetric("ScoreDisplayRave","MeterP2X")
FrameOverP2Y=THEME:GetMetric("ScoreDisplayRave","MeterP2Y")

[CombinedLifeMeterTug]
# We don't use it.
MeterWidth=512-8
MeterHeight=40

[ScreenGameplay]
PrevScreen=SelectMusicOrCourse()
NextScreen=Branch.AfterGameplay()

HeaderOnCommand=hibernate,math.huge
FooterOnCommand=hibernate,math.huge

ShowCreditDisplay=false
MemoryCardIcons=false
GiveUpSeconds=0.33
MusicFadeOutSeconds=0.25
UsePauseMenuInsteadOfGiveUp=false

# Engine stuff we can cut out of the render pipeline
# Thanks, kyzentun.
ScoreP1OnCommand=hibernate,math.huge
ScoreP2OnCommand=hibernate,math.huge
LifeP1OnCommand=rotationz,-90;addx,-100;sleep,0.5;decelerate,0.8;addx,100;draworder,-1;visible,not ThemePrefs.Get("ExperimentalLifebar") and not getenv("WorkoutMode") and not getenv("Training")
LifeP1OffCommand=sleep,1;accelerate,0.8;addx,-100
LifeP1X=SCREEN_LEFT+30
LifeP1Y=SCREEN_CENTER_Y+30
LifeP2OnCommand=rotationz,-90;addx,100;sleep,0.5;decelerate,0.8;addx,-100;draworder,-1;visible,not ThemePrefs.Get("ExperimentalLifebar") and not getenv("WorkoutMode") and not getenv("Training")
LifeP2OffCommand=sleep,1;accelerate,0.8;addx,100
LifeP2X=SCREEN_RIGHT-30
LifeP2Y=SCREEN_CENTER_Y+30
SecondaryScoreP1OnCommand=hibernate,math.huge
SecondaryScoreP2OnCommand=hibernate,math.huge
StepsDisplayP1OnCommand=hibernate,math.huge
StepsDisplayP2OnCommand=hibernate,math.huge
StepsDescriptionP1OnCommand=hibernate,math.huge
StepsDescriptionP2OnCommand=hibernate,math.huge

# Thanks, teejusb.
PlayerP1OnePlayerOneSideX=_screen.cx - (clamp(_screen.w, 640, 854) * 0.25)
PlayerP2OnePlayerOneSideX=_screen.cx + (clamp(_screen.w, 640, 854) * 0.25)
PlayerP1TwoPlayersTwoSidesX=_screen.cx - (clamp(_screen.w, 640, 854) * 0.25)
PlayerP2TwoPlayersTwoSidesX=_screen.cx + (clamp(_screen.w, 640, 854) * 0.25)
PlayerP1OnePlayerBothSidesX=_screen.cx
PlayerP2OnePlayerBothSidesX=_screen.cx

# These control the time before things change on gameplay.
MinSecondsToStep=6.0 * SL.Global.ActiveModifiers.MusicRate
MinSecondsToMusic=2.0 * SL.Global.ActiveModifiers.MusicRate
MinSecondsToStepNextSong=4.0 * SL.Global.ActiveModifiers.MusicRate

FailOnMissCombo=-1

[ScreenHeartEntry]
HeartEntryEnabled=true

[ScreenEvaluationStage]
Fallback="ScreenEvaluation"
NextScreen=Branch.AfterEvaluationStage()


[ScreenSelectCourseEndless]
Fallback="ScreenSelectCourse"
DefaultSort="Endless"

[ScreenSelectMusicITG1]
Fallback="ScreenSelectMusic"

[ScreenSelectCourseITG1]
Fallback="ScreenSelectCourse"
SampleMusicPreviewMode="SampleMusicPreviewMode_ScreenMusic"
[MenuTimerFadeIn]
Fallback="MenuTimer"
Text1OnCommand=stopeffect;stoptweening;shadowlength,0;xy,22,WideScale(11.5,10.5);halign,1;zoom,WideScale(0.3,0.365);sleep,0.1;decelerate,0.333;diffusealpha,1
[ScreenSelectMusic]
TimerCancelMessageCommand=accelerate,0.3;addx,SCREEN_WIDTH
TimerMetricsGroup="MenuTimerFadeIn"
TimerOnCommand=hide_if,not PREFSMAN:GetPreference("MenuTimer");draworder,102;
TimerSeconds=SL.Global.MenuTimer.ScreenSelectMusic
MusicWheelX=SCREEN_CENTER_X-108
MusicWheelY=SCREEN_CENTER_Y-18
MusicWheelOffCommand=addx,-20
// Keep this Y and FOVCenterY the same.
MusicWheelOnCommand=visible,false;addx,-20;z,0;fov,58;addy,-4;rotationy,30;addx,36;ztest,1;SetDrawByZPosition,true
MusicWheelOffCommand=linear,0.2;diffusealpha,0;
MusicWheelCodeMessageCommand=%function(self, params) \
	if not GAMESTATE:IsCourseMode() and (params.Name:match("SortList")) then \
		SCREENMAN:GetTopScreen():GetChild("Overlay"):queuecommand("DirectInputToSortMenu") \
	end; \
end
MusicWheelSortMessageCommand=%function(self, params) \
	self:ChangeSort('SortOrder_'..params.order) \
end
FOVCenterX=SCREEN_CENTER_X
FOVCenterY=SCREEN_CENTER_Y-18
DoRouletteOnMenuTimer=0
WheelUnderX=SCREEN_CENTER_X-289
WheelUnderY=SCREEN_CENTER_Y-17
WheelUnderOnCommand=
WheelUnderOffCommand=
# BannerOffCommand=accelerate,0.75;addx,440
BannerOnCommand=visible,false;scaletoclipped,256,80;ztest,1;
BannerX=0
BannerY=0
BPMDisplayX=SCREEN_CENTER_X+163
BPMDisplayY=SCREEN_CENTER_Y-34
BPMDisplayOffCommand=accelerate,0.75;addx,500
BPMDisplayOnCommand=zoom,0
StepsDisplayListX=SCREEN_CENTER_X+140
StepsDisplayListY=SCREEN_CENTER_Y+2
StepsDisplayListOnCommand=rotationy,-20.0;zoomx,1;zoomy,0.94;rotationx,-2.5
StepsDisplayListOffCommand=function(s) accelerate,0.75;addx,470
StepsDisplayListCancelMessageCommand=function(s) accelerate,0.75;addx,470
StepsDisplayListShowCommand=
StepsDisplayListHideCommand=
SampleMusicDelayInit=1
SampleMusicDelay=0.5
SelectMenuAvailable=true
ModeMenuAvailable=true
TotalTimeX=SCREEN_CENTER_X+279
TotalTimeY=SCREEN_CENTER_Y-32
PrepareScreens="ScreenStageInformation"
CodeNames="SortList,SortList2,SortList3,SortList4,EscapeFromEventMode,EscapeFromEventMode2,TogglePatternInfo"
CodeSortList="@Select-Start"
CodeSortList2=(PREFSMAN:GetPreference("OnlyDedicatedMenuButtons") or GAMESTATE:GetCurrentGame():GetName() == "pump") and "MenuLeft-MenuRight"
CodeSortList3=GAMESTATE:GetCurrentGame():GetName() == "pump" and "DownLeft-DownRight"
CodeSortList4=not PREFSMAN:GetPreference("OnlyDedicatedMenuButtons") and "Left-Right"
CodeTogglePatternInfo="Select,Select"
CodeEscapeFromEventMode=PREFSMAN:GetPreference("EventMode") and "Back" or ""
CodeEscapeFromEventMode2=PREFSMAN:GetPreference("EventMode") and "MenuLeft,MenuLeft,MenuRight,MenuRight,MenuLeft,MenuLeft,MenuRight,MenuRight" or ""

# this allows us to override the normal sort select command
ModeMenuAvailable=false
SelectMenuAvailable=true
SelectMenuChangesDifficulty=true
TwoPartSelection=false
[StepsDisplayList]
ItemsSpacingY=21
NumShownItems=5
CapitalizeDifficultyNames=true
MoveCommand=decelerate,0.05

[StepsDisplayListRow]
ShowDescription=true
DescriptionX=-115
DescriptionY=0
DescriptionOnCommand=halign,1;zoom,.6;shadowlength,2;maxwidth,180
DescriptionSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
		self:uppercase( param.CustomDifficulty ~= "Edit" ) \
	end \
	if param.Steps and param.Steps:IsAnEdit() and param.Steps:GetDescription() == "" then \
		self:settext("EDIT") \
	end \
end

ShowTicks=false
NumTicks=12
MaxTicks=12
TicksX=-10
TicksY=1
TicksOnCommand=halign,0;shadowlength,0;
TicksSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
	end \
end

ShowMeter=true
MeterX=-70
MeterY=0
MeterOnCommand=zoom,.7;shadowlength,0
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
	end \
end
MoveCommand=decelerate,0.05

[MusicWheelItem]
SectionExpandedOnCommand=visible,false;zoom,0
SectionCollapsedOnCommand=visible,false;zoom,0
SectionCountOnCommand=visible,false;zoom,0
RandomX=-23
RandomY=0
RandomOnCommand=visible,false;zoom,0
PortalX=-23
PortalY=0
PortalOnCommand=visible,false;zoom,0
CourseOnCommand=visible,false;zoom,0
GradeP1X=38
GradeP1Y=-0
GradeP2X=WideScale(54,80)
GradeP2Y=0
GradesShowMachine=true
[TextBannerEditMode]
Fallback="TextBanner"
TitleOnCommand=horizalign,right;zoom,0.6;y,-15;x,100;maxwidth,360
SubtitleOnCommand=horizalign,right;zoom,0.5;y,-3;x,100;maxwidth,360
ArtistOnCommand=horizalign,right;zoom,0.6;y,10;x,100;maxwidth,360

[TextBanner]
TitleOnCommand=visible,false;zoom,0
SubtitleOnCommand=visible,false;zoom,0
ArtistOnCommand=visible,false;zoom,0
AfterSetCommand=
# TitleOnCommand=%function(self) if TextBannerSet then self:zoom(0.8); self:shadowlength(0); self:horizalign(right); self:x(100); self:y(0); else self:visible(false) end
# SubtitleOnCommand=%function(self) if TextBannerSet then self:zoom(0.6); self:shadowlength(0); self:horizalign(right); self:x(100); self:y(0); else self:visible(false) end
# ArtistOnCommand=visible,false

[MusicWheel]
ItemCurveX=90
NumWheelItems=16
ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
local curve = math.pi; \
local WHEEL_3D_RADIUS = 178; \
local rotationx_radians = scale(offsetFromCenter,-numItems/2,numItems/2,-curve/2,curve/2); \
	self:x( math.cos(WHEEL_3D_RADIUS/curve) ); \
	self:y( WHEEL_3D_RADIUS * math.sin(rotationx_radians) ); \
	self:z( -75 + WHEEL_3D_RADIUS * math.cos(rotationx_radians) ); \
	self:rotationx( rotationx_radians * 180/curve ); \
end;
MusicWheelItemStartOnCommand=ztest,1;addx,-420
MusicWheelItemFinishOnCommand=sleep,0.35;linear,0.5;addx,420
MusicWheelItemStartOffCommand=
MusicWheelItemFinishOffCommand=decelerate,0.5;addx,-420
HighlightOnCommand=%function(self) self:diffuse(GetCurrentColor(true)):diffusealpha(0.35):effectclock("beatnooffset"):effectperiod(2)
HighlightOffCommand=linear,0.5;addx,-500
ShowRandom=true
ShowRoulette=false
ShowPortal=true

RouletteColor=color("1,1,1,1")
RandomColor=color("1,1,1,1")
PortalColor=color("1,1,1,1")

[Player]
BrightGhostComboThreshold=100
ComboY=30
ComboYReverse=-20
ReceptorArrowsYStandard=-125
ReceptorArrowsYReverse=145
HoldJudgmentY=-203
StartDrawingAtPixels=@scale(SCREEN_HEIGHT,448,480,-64,-74)
StopDrawingAtPixels=@scale(SCREEN_HEIGHT,448,480,380,410)
AttackDisplayY=-80
AttackDisplayYReverse=80
JudgmentHideJudgmentMessageCommand=hidden,1
JudgmentShowJudgmentMessageCommand=hidden,0;finishtweening

[LifeMeterBar]
# MinStayAlive is only used when the LifeMeterBar has its DrainType set to "SuddenDeath"
# that is, never in Simply Love, except maybe in some exotic mod-chart yet to be written.
# see LifeMeterBar.cpp for details regarding the implementation.
MinStayAlive=(SL.Global.GameMode=="FA+" and "TapNoteScore_W4") or "TapNoteScore_W3"

# InitialValue is a floating-point value between [0,1] inclusive that determines how full
# the LifeMeter is at the start of Gameplay.  ITG set this to be 0.5.
InitialValue=0.5

# DangerThreshold is a floating-point value between [0,1] inclusive.  It is used in the
# calculation for LifeMeterBar:IsInDanger().  If the current LifeMeter value is less than
# the DangerThreshold specified here, the player is assigned "HealthState_Danger"
DangerThreshold=0.2

# LifePercentChange metrics dictate how much the LifeMeter changes for each judgment a players earns during Gameplay
# (uh, potentially; it gets complicated because of RegenComboAfterMiss and HarshHotLifePenalty...)
# You can find these values in ./Scripts/SL_Init.lua
LifePercentChangeW1=SL.Metrics[SL.Global.GameMode]["LifePercentChangeW1"]
LifePercentChangeW2=SL.Metrics[SL.Global.GameMode]["LifePercentChangeW2"]
LifePercentChangeW3=SL.Metrics[SL.Global.GameMode]["LifePercentChangeW3"]
LifePercentChangeW4=SL.Metrics[SL.Global.GameMode]["LifePercentChangeW4"]
LifePercentChangeW5=SL.Metrics[SL.Global.GameMode]["LifePercentChangeW5"]
LifePercentChangeMiss=SL.Metrics[SL.Global.GameMode]["LifePercentChangeMiss"]
LifePercentChangeHitMine=SL.Metrics[SL.Global.GameMode]["LifePercentChangeHitMine"]
LifePercentChangeHeld=SL.Metrics[SL.Global.GameMode]["LifePercentChangeHeld"]
LifePercentChangeLetGo=SL.Metrics[SL.Global.GameMode]["LifePercentChangeLetGo"]


[StreamDisplay]
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) local native_width=32; local zoomed_width=39; self:zoomx(zoomed_width/native_width); self:y(-1) self:x(0); end
TextureCoordScaleX=1
NumPills=1
AlwaysBounceNormalBar=false
VelocityMultiplier=4
VelocityMin=-.06
VelocityMax=.1
SpringMultiplier=2.0
ViscosityMultiplier=0.2

[Judgment]
BooCommand=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,1;accelerate,0.2;zoom,0
GoodCommand=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,1;accelerate,0.2;zoom,0
GreatCommand=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,1;accelerate,0.2;zoom,0
MarvelousCommand=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,1;accelerate,0.2;zoom,0;glowshift;effectperiod,0.05;effectcolor1,1,1,1,0;effectcolor2,1,1,1,0.5
MissCommand=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,1;accelerate,0.2;zoom,0
PerfectCommand=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,1;accelerate,0.2;zoom,0

[HoldJudgment]
HoldJudgmentLetGoCommand=diffuse,1,1,1,1;zoom,1.25;linear,0.3;zoomx,1;zoomy,1;sleep,0.5;linear,0;diffuse,1,1,1,0
HoldJudgmentHeldCommand=diffuse,1,1,1,1;zoom,1.25;linear,0.3;zoomx,1;zoomy,1;sleep,0.5;linear,0;diffuse,1,1,1,0

[Combo]
ShowComboAt=4
LabelOnCommand=shadowlength,4;horizalign,center;vertalign,top
LabelX=0
LabelY=20
NumberOnCommand=shadowlength,4;horizalign,center;vertalign,bottom
NumberMaxZoom=400
NumberMaxZoomAt=400
NumberMinZoom=0
NumberX=0
NumberY=30
PulseLabelCommand=%function(self) self:zoom(1.1); self:linear(0.05); self:zoom(1); end
FullComboGreatsCommand=stopeffect
FullComboPerfectsCommand=diffuseshift;EffectColor1,#FFFFFF;EffectColor2,#FDD599;EffectPeriod,0.5
FullComboMarvelousesCommand=diffuseshift;EffectColor1,#FFFFFF;EffectColor2,#94EBFE;EffectPeriod,0.5
FullComboBrokenCommand=stopeffect
ShowMissCombo=1

[ScreenDebugOverlay]
Class="ScreenDebugOverlay"
Fallback="Screen"

BackgroundColor=color("0,0,0,0.5")

LineOnColor=color("1,1,1,1")
LineOffColor=color("0.6,0.6,0.6,1")
LineStartY=SCREEN_TOP+50
LineSpacing=16
LineButtonX=SCREEN_CENTER_X-50
LineFunctionX=SCREEN_CENTER_X-30

ButtonTextOnCommand=NoStroke;zoom,0.6
ButtonTextToggledCommand=zoom,0.7;decelerate,0.2;zoom,0.6
FunctionTextOnCommand=NoStroke;zoom,0.6
FunctionTextToggledCommand=zoom,0.7;decelerate,0.2;zoom,0.6

PageStartX=SCREEN_CENTER_X-100
PageSpacingX=90
PageTextOnCommand=NoStroke;zoom,0.5
PageTextGainFocusCommand=diffuse,color("1,1,1,1")
PageTextLoseFocusCommand=diffuse,color("0.6,0.6,0.6,1")

DebugMenuHeaderX=SCREEN_LEFT+120
DebugMenuHeaderY=SCREEN_TOP+18
DebugMenuHeaderOnCommand=horizalign,left
DebugMenuHeaderOffCommand=

HeaderTextX=SCREEN_LEFT+20
HeaderTextY=SCREEN_TOP+18
HeaderTextOnCommand=horizalign,left;zoom,0.6
HeaderTextOffCommand=

[ScreenNameEntryTraditional]
PrevScreen="ScreenProfileSaveSummary"
NextScreen="ScreenProfileSaveSummary"
Class="ScreenNameEntryTraditional"
# todo: fix NextScreen branch

WaitForChildrenBeforeTweeningOut=true

ShowHelp=true

MaxRankingNameLength=4

# fake metric I brought back, because fuck it
FeatInterval=5

ForceTimer=false

# trying to replicate the keyboard inputs
CodeNames="Left,AltLeft,Right,AltRight,Backspace,Enter"
CodeLeft="+MenuLeft"
CodeAltLeft="+Left"
CodeRight="+MenuRight"
CodeAltRight="+Right"
CodeBackspace="+Select"
CodeEnter="Start"

# Out of Ranking (P1/P2)
OutOfRankingP1X=SCREEN_CENTER_X-157
OutOfRankingP1Y=SCREEN_CENTER_Y+49
OutOfRankingP1OnCommand=shadowlength,4;addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
OutOfRankingP1OffCommand=
OutOfRankingP2X=SCREEN_CENTER_X+157
OutOfRankingP2Y=SCREEN_CENTER_Y+49
OutOfRankingP2OnCommand=shadowlength,4;addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
OutOfRankingP2OffCommand=

# Keyboard (P1/P2)
KeyboardP1X=SCREEN_CENTER_X-157
KeyboardP1Y=SCREEN_CENTER_Y+72	
KeyboardP1OnCommand=addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
KeyboardP1OffCommand=linear,.25;zoomy,0
KeyboardP2X=SCREEN_CENTER_X+156
KeyboardP2Y=SCREEN_CENTER_Y+72
KeyboardP2OnCommand=addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
KeyboardP2OffCommand=linear,.25;zoomy,0

# Selection (P1/P2)
SelectionP1X=SCREEN_CENTER_X-239
SelectionP1Y=SCREEN_CENTER_Y+22
SelectionP1OnCommand=addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
SelectionP1OffCommand=
SelectionP2X=SCREEN_CENTER_X+72
SelectionP2Y=SCREEN_CENTER_Y+22
SelectionP2OnCommand=addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
SelectionP2OffCommand=

# Wheel (P1/P2)
WheelP1X=SCREEN_CENTER_X-149
WheelP1Y=SCREEN_CENTER_Y-76
WheelP1OnCommand=zoom,0.75;addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
WheelP1OffCommand=
WheelP2X=SCREEN_CENTER_X+158
WheelP2Y=SCREEN_CENTER_Y-76
WheelP2OnCommand=zoom,0.75;addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
WheelP2OffCommand=

# Banner
BannerX=SCREEN_CENTER_X
BannerY=SCREEN_CENTER_Y+138
BannerOnCommand=addy,-200;decelerate,0.3;addy,200
BannerOffCommand=

# Score (P1/P2)
ScoreP1X=SCREEN_CENTER_X-200
ScoreP1Y=SCREEN_CENTER_Y+132
ScoreP1OnCommand=addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
ScoreP1OffCommand=
ScoreP1HideCommand=stoptweening;diffusealpha,1;linear,.5;diffusealpha,0
ScoreP1UnhideCommand=stoptweening;diffusealpha,0;linear,.5;diffusealpha,1
ScoreP2X=SCREEN_CENTER_X+200
ScoreP2Y=SCREEN_CENTER_Y+132
ScoreP2OnCommand=addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
ScoreP2OffCommand=
ScoreP2HideCommand=stoptweening;diffusealpha,1;linear,.5;diffusealpha,0
ScoreP2UnhideCommand=stoptweening;diffusealpha,0;linear,.5;diffusealpha,1

# DifficultyIcon (P1/P2)
DifficultyIconP1X=SCREEN_CENTER_X-195
DifficultyIconP1Y=SCREEN_CENTER_Y+175
DifficultyIconP1OnCommand=addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
DifficultyIconP1OffCommand=
DifficultyIconP1HideCommand=stoptweening;linear,.5;diffusealpha,0
DifficultyIconP1UnhideCommand=stoptweening;linear,.5;diffusealpha,1
DifficultyIconP2X=SCREEN_CENTER_X+195
DifficultyIconP2Y=SCREEN_CENTER_Y+175
DifficultyIconP2OnCommand=zoomx,-1;addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
DifficultyIconP2OffCommand=
DifficultyIconP2HideCommand=stoptweening;linear,.5;diffusealpha,0
DifficultyIconP2UnhideCommand=stoptweening;linear,.5;diffusealpha,1
[ScreenProfileSaveSummary]
Fallback="ScreenProfileSave"
NextScreen=Branch.AfterProfileSaveSummary()
PrevScreen=Branch.AfterProfileSaveSummary()

[ScreenRanking]
Class="ScreenHighScores"
Fallback="ScreenAttract"
NextScreen="ScreenRanking2"
ShowHeader=true
PlayMusic=true

NoScoreName="-----"

ManualScrolling=false
HighScoresType="HighScoresType_AllSteps"
NumColumns=4
ColumnDifficulty1="Difficulty_Easy"
ColumnDifficulty2="Difficulty_Medium"
ColumnDifficulty3="Difficulty_Hard"
ColumnDifficulty4="Difficulty_Challenge"
ColumnStepsType1="StepsType_Dance_Single"
ColumnStepsType2="StepsType_Dance_Single"
ColumnStepsType3="StepsType_Dance_Single"
ColumnStepsType4="StepsType_Dance_Single"

MaxItemsToShow=50
DifficultyStartX=SCREEN_CENTER_X-154

ScrollerOnCommand=CenterX;y,SCREEN_CENTER_Y+20;scrollthroughallitems
ScrollerOffCommand=linear,0.2;diffusealpha,0
ScrollerItemTransformFunction=function(self,offset,itemIndex,numItems) self:y(65*offset) end
ScrollerItemsToDraw=7
ScrollerSecondsPerItem=0.41

[ScreenRanking2]
Fallback="ScreenRanking"
NextScreen="ScreenMemoryCard"
HighScoresType="HighScoresType_NonstopCourses"

MaxItemsToShow=15

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"
ColumnStepsType1="StepsType_Dance_Single"
ColumnStepsType2="StepsType_Dance_Single"
DifficultyStartX=SCREEN_CENTER_X+54

[ScreenMemoryCard]
Fallback="ScreenAttract"
NextScreen="ScreenAdvertisement"
ForceTimer=true
TimerSeconds=10

[ScreenITGTraining]
Class="ScreenGameplayNormal"
Fallback="ScreenGameplay"

[ScreenRecordsMenu]
AllowOperatorMenuButton=false
Fallback="ScreenOptionsService"

LineNames="1"
Line1="gamecommand;screen,ScreenUnlock;name,Unlocks;setenv,KeepAudioOn,true"
Line2="gamecommand;screen,ScreenSummarySingle;name,RecordsSummarySingle"
Line3="gamecommand;screen,ScreenSummaryDouble;name,RecordsSummaryDouble"
Line4="gamecommand;screen,ScreenGradesSingle;name,RecordsGradesSingle"
Line5="gamecommand;screen,ScreenGradesDouble;name,RecordsGradesDouble"
Line6="gamecommand;screen,ScreenRecordsSongsSingle;name,RecordsSongsSingle"
Line7="gamecommand;screen,ScreenRecordsSongsDouble;name,RecordsSongsDouble"
Line8="gamecommand;screen,ScreenRecordsCoursesSingle;name,RecordsCoursesSingle"
Line9="gamecommand;screen,ScreenRecordsCoursesDouble;name,RecordsCoursesDouble"

[ScreenSummarySingle]
Fallback="ScreenWithMenuElementsBlank"
[ScreenSummaryDouble]
Fallback="ScreenWithMenuElementsBlank"
[ScreenGradesSingle]
Fallback="ScreenWithMenuElementsBlank"
[ScreenGradesDouble]
Fallback="ScreenWithMenuElementsBlank"
[ScreenRecordsSongsSingle]
Fallback="ScreenWithMenuElementsBlank"
[ScreenRecordsSongsDouble]
Fallback="ScreenWithMenuElementsBlank"
[ScreenRecordsCoursesSingle]
Fallback="ScreenWithMenuElementsBlank"
[ScreenRecordsCoursesDouble]
Fallback="ScreenWithMenuElementsBlank"

[ScreenSelectLanguage]
ShowCreditDisplay=false
Fallback="ScreenSelectMasterBlank"
Class="ScreenSelectLanguage"
PrevScreen="ScreenSelectLanguage"
NextScreen="ScreenCompany"
ChoiceNames=
DefaultChoice=PREFSMAN:GetPreference( 'Language' )
AllowDisabledPlayerInput=true
AllowBack=false
ShowScroller=true
PerChoiceScrollElement=false
ScrollerX=SCREEN_CENTER_X
ScrollerY=0
ScrollerNumItemsToDraw=20
ScrollerTransform=function(self, offset, itemIndex, numItems) \
local offset = itemIndex - (numItems-1)/2; \
self:y( scale( itemIndex, 1, numItems, 100, SCREEN_BOTTOM ) ); \
end

[ScreenOptionsMaster]
Perspective="5;selectone"
PerspectiveDefault="mod,overhead"
Perspective,1="mod,overhead;name,Overhead"
Perspective,2="mod,hallway;name,Hallway"
Perspective,3="mod,distant;name,Distant"
Perspective,4="mod,incoming;name,Incoming"
Perspective,5="mod,space;name,Space"

Accel="5;selectmultiple"
AccelDefault="mod,no boost,no brake,no wave,no expand,no boomerang"
Accel,1="mod,boost;name,Boost"
Accel,2="mod,brake;name,Brake"
Accel,3="mod,wave;name,Wave"
Accel,4="mod,expand;name,Expand"
Accel,5="mod,boomerang;name,Boomerang"

Effect="10;selectmultiple"
EffectDefault="mod,no drunk,no dizzy,no confusion,no flip,no invert,no tornado,no tipsy,no bumpy,no beat"
Effect,1="mod,drunk;name,Drunk"
Effect,2="mod,dizzy;name,Dizzy"
Effect,3="mod,confusion;name,Confusion"
Effect,4="mod,-100% mini;name,Big"
Effect,5="mod,flip;name,Flip"
Effect,6="mod,invert;name,Invert"
Effect,7="mod,tornado;name,Tornado"
Effect,8="mod,tipsy;name,Tipsy"
Effect,9="mod,bumpy;name,Bumpy"
Effect,10="mod,beat;name,Beat"

Appearance="5;selectmultiple"
AppearanceDefault="mod,no hidden,no sudden,no stealth,no blink,no randomvanish"
Appearance,1="mod,hidden;name,Hidden"
Appearance,2="mod,sudden;name,Sudden"
Appearance,3="mod,stealth;name,Stealth"
Appearance,4="mod,blink;name,Blink"
Appearance,5="mod,randomvanish;name,R.Vanish"

# add "Backwards" as a turn mod if the current game is pump
# (the engine redirects "Backwards" to "Mirror" in games other than pump so the option is redundant)
Turn=(function() return GAMESTATE:GetCurrentGame():GetName()=="pump" and "7;selectone" or "6;selectone" end)()
TurnDefault="mod,no turn"
Turn,1="mod,no turn;name,None"
Turn,2="mod,mirror;name,Mirror"
Turn,3="mod,left;name,Left"
Turn,4="mod,right;name,Right"
Turn,5="mod,shuffle;name,Shuffle"
Turn,6="mod,supershuffle;name,Blender"
Turn,7="mod,backwards;name,Backwards"


Insert="7;selectmultiple"
InsertDefault="mod,no wide,no big,no quick,no skippy,no echo,no stomp,no bmrize"
Insert,1="mod,wide;name,Wide"
Insert,2="mod,big;name,Big"
Insert,3="mod,quick;name,Quick"
Insert,4="mod,bmrize;name,BMRize"
Insert,5="mod,skippy;name,Skippy"
Insert,6="mod,echo;name,Echo"
Insert,7="mod,stomp;name,Stomp"

Remove="8;selectmultiple"
RemoveDefault="mod,no little,no nomines,no noholds,no nojumps,no nohands,no noquads,no nolifts,no nofakes"
Remove,1="mod,little;name,Little"
Remove,2="mod,nomines;name,NoMines"
Remove,3="mod,noholds;name,NoHolds"
Remove,4="mod,nojumps;name,NoJumps"
Remove,5="mod,nohands;name,NoHands"
Remove,6="mod,noquads;name,NoQuads"
Remove,7="mod,nolifts;name,NoLifts"
Remove,8="mod,nofakes;name,NoFakes"

RemoveA="4;selectmultiple"
RemoveADefault="mod,no little,no nomines,no noholds,no nojumps"
RemoveA,1="mod,little;name,Little"
RemoveA,2="mod,nomines;name,NoMines"
RemoveA,3="mod,noholds;name,NoHolds"
RemoveA,4="mod,nojumps;name,NoJumps"

RemoveB="4;selectmultiple"
RemoveBDefault="mod,no nohands,no noquads,no nolifts,no nofakes"
RemoveB,1="mod,nohands;name,NoHands"
RemoveB,2="mod,noquads;name,NoQuads"
RemoveB,3="mod,nolifts;name,NoLifts"
RemoveB,4="mod,nofakes;name,NoFakes"

Scroll="5;selectmultiple"
ScrollDefault="mod,no reverse,no split,no alternate,no cross,no centered"
Scroll,1="mod,reverse;name,Reverse"
Scroll,2="mod,split;name,Split"
Scroll,3="mod,alternate;name,Alternate"
Scroll,4="mod,cross;name,Cross"
Scroll,5="mod,centered;name,Centered"

Holds="5;selectmultiple"
HoldsDefault="mod,no planted,no floored,no twister,no holdrolls"
Holds,1="mod,planted;name,Planted"
Holds,2="mod,floored;name,Floored"
Holds,3="mod,twister;name,Twister"
Holds,4="mod,norolls;name,NoRolls"
Holds,5="mod,holdrolls;name,HoldsToRolls"

[RollingNumbersEvaluation]
Fallback="RollingNumbers"
Commify=false
LeadingZeroMultiplyColor=color("#444444")
ApproachSeconds=1

[RollingNumbersEvaluationA]
Fallback="RollingNumbersEvaluation"
TextFormat="%04.0f"

[RollingNumbersEvaluationB]
Fallback="RollingNumbersEvaluation"
TextFormat="%03.0f"

[RollingNumbersEvaluationNoDecentsWayOffs]
Fallback="RollingNumbersEvaluationA"
LeadingZeroMultiplyColor=color("#FFFFFF")
[NoteField]
ShowBeatBars=SL.Metrics["ShowBeatBars"]
BarMeasureAlpha=SL.Metrics["BarMeasureAlpha"]
Bar4thAlpha=SL.Metrics["Bar4thAlpha"]
Bar8thAlpha=0
Bar16thAlpha=0